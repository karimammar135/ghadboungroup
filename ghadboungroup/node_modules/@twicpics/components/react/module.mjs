'use client';import e,{useRef as t,useEffect as o,version as n}from"react";const r=e=>{if(!e)return;const{attributes:t,element:o,elementName:n,value:s}=e,i=o||document.createElement(n||"div");if(t&&i instanceof HTMLElement)for(const[e,o]of Object.entries(t))i.setAttribute(e,String(o));if(s)if("string"==typeof s)i.innerHTML=s;else for(const e of Array.isArray(s)?s:[s]){const t=r(e);t&&i.appendChild(t)}return i},s=/px$/,i=e=>Number(e.replace(s,"")),a="undefined"!=typeof document,c=()=>{},d=(e,{filter:t,defaultValue:o}={})=>n=>{let r;return n&&`${n}`.replace(e,((e,t)=>r=t)),(t?t(r):r)||o},l=e=>{throw new Error((e=>`twicpics-components ${e}`)(e))},p=(e,{border:t="\\s",regExpFlags:o}={})=>new RegExp(`^(?:${t})*(${Array.isArray(e)?e.join("|"):e})(?:${t})*$`,o),m={breakpoints:{xs:320,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},class:"twic",domain:void 0,env:"production",handleShadowDom:c,maxDPR:void 0,path:"",step:void 0},u=a&&window,f=a?u["~ TPCC"]||(u["~ TPCC"]=m):m,h=()=>`.twic-w>.${f.class}-background-done+div,.twic-w>.${f.class}-done+div,.twic-w>.${f.class}-poster-done+div{opacity:0 !important}.twic-w>.${f.class}-done,.twic-w>.${f.class}-poster-done{transform:none !important}`,g=e=>`data-${f.class}-${e}`,v=e=>{const{breakpoints:t={},debug:o,domain:n,class:s,env:i,handleShadowDom:d,maxDPR:l,path:p}=e;f.breakpoints=Object.assign(Object.assign({},f.breakpoints),t),f.class=s||f.class,f.domain=n,f.env=o?"debug":i,f.maxDPR=Math.max(1,l||2),f.path=p,f.handleShadowDom=d&&a?(e=>{const t=new WeakSet;return o=>{for(;o&&!t.has(o);){t.add(o);const{parentNode:n}=o;if(!n&&o instanceof ShadowRoot){if("closed"===o.mode)throw new Error("cannot use TwicPics components in closed ShadowRoot");r({element:o,value:{elementName:"style",value:`.twic-i{overflow:hidden}.twic-w,.twic-w *{border:none;margin:0;overflow:hidden;padding:0}.twic-w{overflow:hidden;position:relative;padding-top:100%;width:100%;padding-top:calc(100% / var(--twic-ratio,1))}.twic-w>*{display:block;height:100%;left:0;position:absolute;top:0;width:100%;transition-property:opacity,transform;will-change:opacity,transform;background-size:cover;background-position:center;background-repeat:no-repeat;object-fit:cover;object-position:center;transition-delay:0s;transition-duration:.4s;transition-timing-function:ease;object-fit:var(--twic-mode,cover);object-position:var(--twic-position,center);transition-delay:var(--twic-transition-delay,0s);transition-duration:var(--twic-transition-duration,400ms);transition-timing-function:var(--twic-transition-timing-function,ease)}.twic-w>div{background-repeat:no-repeat;background-size:cover;background-position:center;background-size:var(--twic-mode,cover);background-position:var(--twic-position,center);font-size:calc(1px / var(--twic-ratio,1))}.twic-w>img:not([src]),.twic-w>img[src=\"\"]{visibility:hidden}.twic-w.twic-tz>img{transform:scale(0)}.twic-w.twic-tf>div{opacity:1}.twic-d{display:block}.twic-offline{background-color:#ccc}.twic-offline.twic-nosrc{background-color:#fd0016}.twic-offline>*{display:none}:root{--twic-zoom:0}.twic-z{position:relative}.twic-m{left:0;position:absolute;top:0;z-index:1}.twic-m>*{display:none;transition:none;width:calc(max(var(--twic-zoom),1) * 100%);height:calc(max(var(--twic-zoom),1) * 100%);transform:translate3d(calc((1 - max(var(--twic-zoom),1)) * var(--twic-xr,0) * 1px),calc((1 - max(var(--twic-zoom),1)) * var(--twic-yr,0) * 1px),0)}.twic-m:hover>*{display:block}.twic-m:hover+div,twicmedia:hover+twicmedia{opacity:0}.twic-p{border:none;margin:0;overflow:hidden;padding:0}.twic-p>img{display:block;object-fit:cover;object-position:center;width:100%;height:100%}${h()}`}}),(o=o.host)&&o.setAttribute(e,"")}else o=n}}})(g("component")):c},b=/^(?:(auth|placeholder|rel)|(image|media|video)|[^:]*):(\/*)((v[0-9]+(?=[/?]))?[^?]*(\?.*)?)$/,$=(e,t="")=>{const o=e&&b.exec(e);return{isAbsolute:e.slice(0,t.length+1)===`${t}/`,isSpecial:o&&void 0!==o[1]}},y=({domain:e,context:t,inspect:o,output:n,quality:r,src:s,transform:i})=>{const{isAbsolute:a}=$(s,e),c=a?`media:${s.slice(`${e}/`.length)}`:s,d=b.exec(c),l=d&&d[2],p=n?`/output=${n}`:"",m=l?d[4]:c,u=r?`/quality=${r}`:"",f=o?"/inspect":"",h=(({height:e,mode:t,width:o},n)=>{if(n&&(o||e)){const r=e||"-",s=o||"-";return n.replace(/(\/*\*)/g,`/${t}=${s}x${r}`).replace(/WxH/g,`${s}x${r}`)}return n})(t,i);return`${e}/${d&&(d[1]||d[5])?`v1${h}${p}${u}${f}/${l?`${d[2]}:${m}`:m}`:`${m}${d&&d[6]?"&":"?"}twic=v1${h}${p}${f}${u}`}`},w=(e,t)=>"cover"===e&&void 0!==t?"":"/*",x=["center"];for(const e of["","bottom","top"])for(const t of["","left","right"])(t||e)&&x.push(e?t?`${e}-${t}`:e:t);const N=/\?|^\/*$/;p(x);const O=/(^https?:\/\/[^/]+)\/*$/,S=p(["high","low","auto"]),T=p("\\s*(\\d+)\\s*[x]\\s*(\\d+)\\s*"),E=["contain","cover"],j=p(E),k=["maincolor","meancolor","none","preview"],P=p(k),D=/^\/*(.+?)\/*$/,z=p("(\\d+(?:\\.\\d+)?)(?:\\s*[\\/:]\\s*(\\d+(?:\\.\\d+)?))?|(none)"),M=p(["debug","offline","production"]),R=p("(\\d+\\.?\\d*)|(css)",{regExpFlags:"i"}),C=e=>!isNaN(e)&&e>0,A=/^((image|media|video):)?\/*/,F=d(p("(?:.|\n)+?")),H=p(".+?",{border:"[\\s\\/]"}),W={true:!0,false:!1,"":!0},L=e=>"boolean"==typeof e?e:void 0!==e&&W[e.trim()],B=/(?:@(?<breakpoint>xs|sm|md|lg|xl|2xl|\d*)\s+)?(?<value>[^@]+)/gm,I=(e,t)=>o=>{const n={0:e(t)},r=F((o||"").toString());if(r){let o;for(;null!==(o=B.exec(r));){const{breakpoint:r,value:s}=o.groups||{},i=Number(r||"0");n[isNaN(i)?f.breakpoints[r]:i]=e(s?s.replace(/\s*,\s*$/g,""):t)}}return n},V=e=>{if("number"!=typeof e){const t=F(e);e=t&&Number(t)}return C(e)?e:void 0},q=/\b(?:(left|right)|(bottom|top))\b/g,Y=e=>{const t=F(e);let o,n;if(t){let e;for(;e=q.exec(t);)e[1]?o=e[1]:n=e[2]}return{x:o,y:n}},J=I(Y),X=e=>F(e)||"",G=V,K=F,Q=F,U=L,Z=e=>{const t=F(e);return O.test(t)?t.replace(O,"$1"):void 0},_=V,ee=L,te=d(S),oe=d(M),ne=e=>{const t=F(e);return"none"===t?void 0:t},re=I(ne),se=V,ie=L,ae=e=>{const t=V(e);return t>=1?t:void 0},ce=d(j,{defaultValue:"cover"}),de=I(ce),le=e=>{const t=F(e);return t?t.replace(D,"$1/"):""},pe=F,me=I(pe),ue=d(H,{filter:e=>e&&e.replace(/^\/*(.*[^/])\/*$/,"$1")}),fe=e=>{if("none"===e)return 0;let t;if(e)if("number"==typeof e)t=1/e;else{const o=z.exec(e);if(o){const[,,e,n]=o;t=(n?Number(n):1)/Number(e)}else t=1}return C(t)?t:void 0},he=I(fe,1),ge=e=>{const t=L(e);if(void 0===t){const t=F((e||"").toString());return t&&t.replace(/\s/g,"")}return t?"":void 0},ve=I((e=>{const t=F(e);return t&&t.replace(/\n\s*/g,"")})),be=V,$e=e=>{if("offline"===f.env)return"";const t=F(e)||"placeholder:red",{isAbsolute:o,isSpecial:n}=$(t,f.domain);return n?t:o?`media:${t.slice(`${f.domain}/`.length)}`:t.replace(A,`media:${f.path}`)},ye=V,we=e=>e&&e.trim(),xe={true:"fade",false:"none",fade:"fade",zoom:"zoom",none:"none"},Ne=F,Oe=F,Se=F,Te=e=>{if("string"==typeof e){const t=R.exec(e);if(t&&t[3])return!0;e=t&&t[2]?Number(t[2]):void 0}return C(e)&&e>1?e:void 0},Ee=[["anticipation","anticipation"],["class","class"],["maxDPR","max-dpr"],["step","step"]],je=e=>{if(a){const t=[`${f.domain}/?v1`];Ee.forEach((o=>{const[n,r]=o;e.hasOwnProperty(n)&&e[n]&&t.push(`${r}=${e[n]}`)}));const{scriptElementId:o}=e;r({element:document.head,value:[{attributes:{rel:"preconnect",href:f.domain},elementName:"link"},{attributes:Object.assign(Object.assign({async:"",defer:""},o&&{id:o}),{src:t.join("&")}),elementName:"script"}]});const n=r({elementName:"style",value:h()});document.head.appendChild(n),document.addEventListener("astro:after-swap",(()=>document.head.appendChild(n)))}},ke=e=>{e||l("install options not provided");const{domain:t,env:o,path:n}=e;t&&O.test(t)||l(`install domain "${t}" is invalid`),n&&N.test(n)&&l(`install path "${n}" is invalid`),o&&!M.test(o)&&l(`install env "${o}" is invalid`)},Pe=e=>{ke(e);const{domain:t,env:o,path:n}=e;v(Object.assign(Object.assign({},e),{domain:Z(t),env:oe(o),path:le(n)})),je(e)};function De(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o}"function"==typeof SuppressedError&&SuppressedError;const ze=({x:e,y:t},o,n)=>"contain"===o&&(n||(t?e?`${t} ${e}`:t:e)),Me=({anchor:{x:e,y:t},debug:o,focus:n,mode:r,preTransform:s,refit:i})=>{const a=t?e?`${t}-${e}`:t:e,c="contain"!==r&&void 0===i&&(n||a),d=((e,t,o)=>void 0!==o&&`${"contain"===t?"auto":"WxH"}${o?`(${o})`:""}${e&&"contain"!==t?`@${e}`:""}`)(a,r,i);return`${o?"/debug":""}${s?`/${s}`:""}${c?`/focus=${c}`:""}${d?`/refit=${d}`:""}`},Re=(e,t,o)=>{const n={};return t&&(n.transitionDuration=t),e&&(n.transitionDelay=e),o&&(n.transitionTimingFunction=o),n},Ce=(e,t)=>"img"===t?e:void 0,Ae=(e,t,o,n,r,s,i,a,c,d,l,p,m,u,f)=>{const h=Re(l,p,m);f({anchor:e,focus:t,mode:o,placeholder:n,preTransform:s,ratio:i,refit:a,src:c,transitions:d,videoOptions:u}),o&&(h.backgroundSize=o);const g=ze(e,o,r);return g&&(h.backgroundPosition=g),h},Fe={img:"objectPosition",video:"objectPosition"},He={img:"objectFit",video:"objectFit"},We=(e,t,o,n,r,s,i)=>{const a=Re(r,s,i),c=ze(e,o,n);return c&&(a[Fe[t]||"backgroundPosition"]=c),o&&(a[He[t]||"backgroundSize"]=o),a},Le=(e,t,o)=>{const n=["twic-w"];return e&&n.push(e),o.hasOwnProperty("none")||(o.hasOwnProperty("fade")&&n.push("twic-tf"),o.hasOwnProperty("zoom")&&n.push("twic-tz")),"offline"===f.env&&(n.push("twic-offline"),t||n.push("twic-nosrc")),n.join(" ")},Be=e=>0===e?{height:"100%",paddingTop:"0"}:{paddingTop:void 0===e?"":100*e+"%"},Ie=e=>{const t={};return"boolean"!=typeof e&&e&&(t["--twic-zoom"]=`${e}`),t},Ve=new WeakMap,qe=a&&"undefined"!=typeof MutationObserver&&new MutationObserver((e=>{for(const{target:t}of e){const e=Ve.get(t);e&&e.handleState()}})),Ye=a&&"undefined"!=typeof ResizeObserver&&new ResizeObserver((e=>{for(const{target:t}of e){const e=Ve.get(t);e&&e.refreshBackground()}})),Je=new RegExp(`(?:\\s*)(?:${f.class}(?:-background)*-)(done|error|loading)`);class Xe{constructor(e=void 0){this.handleState=()=>{if(this.stateHandler){let e="new";const{className:t}=this.media,o=Je.exec(t);o&&([,e]=o),this.stateHandler(e)}},this.refreshBackground=((e,t)=>{let o;const n=Object.assign({leading:!0,ms:0,trailing:!0},{ms:100});return(...t)=>{!o&&n.leading&&e(...t),clearTimeout(o),o=setTimeout((()=>{o=void 0,n.trailing&&e(...t)}),n.ms)}})((()=>{if(this.media&&this.placeholderData){const e=this.media.nextElementSibling,t=((e,{anchor:t,focus:o,mode:n,placeholder:r,preTransform:s,src:a,ratio:c,refit:d,transitions:l,videoOptions:p})=>{if(!f.domain||!e||!r||l.hasOwnProperty("zoom"))return"";const m=getComputedStyle(e),u=n||ce(m.backgroundSize);let h;h=0===c?"contain"===u?1:i(m.height)/Math.max(1,i(m.width)):null!=c?c:i(m.fontSize);let g=1e3,v=1e3;h<1?g*=h:v/=h;const{videoTransform:b}=p||{},$=`${Me({anchor:t,focus:o,mode:n,preTransform:s,refit:d})}${b||""}${w(u,d)||""}`;return y({context:{height:Math.max(1,Math.round(g)),mode:u,width:Math.max(1,Math.round(v))},domain:f.domain,transform:$,src:a,output:r})})(e,this.placeholderData);t&&t!==this.savedWrapperBackground&&(this.savedWrapperBackground=t,e.style.backgroundImage=`url(${JSON.stringify(t)})`)}})),this.setMedia=e=>{e&&(f.handleShadowDom(e),this.media=e,Ve.set(this.media,this),qe&&(qe.observe(this.media,{attributes:!0,attributeFilter:["class"]}),this.handleState()),Ye&&Ye.observe(this.media))},this.setPlaceholderData=e=>{this.placeholderData=e,this.media&&this.refreshBackground()},this.destroy=()=>{this.media&&this.media&&Ye&&Ye.unobserve(this.media)},this.stateHandler=e}}const Ge=e=>null==e;class Ke extends Error{constructor({componentName:e,expectedTypes:t,expectedValues:o,props:n,propName:r}){const s=t||o;super(`Invalid prop '${r}'${o?` value '${n[r]}'`:""}${t?` type '${typeof n[r]}'`:""} supplied to '${e}'${s?` expected ${s.length>1?"one of ":""}${t?"type ":""}'${s.join(", ")}'`:""}.`),this.expected=s&&s[0]}}const Qe=e=>(t,o,n)=>{const r=[];for(const s of e){const e=s(t,o,n);if(null===e)return null;r.push(e.expected)}return new Ke({componentName:n,expectedTypes:r,props:t,propName:o})},Ue=(e,t)=>(o,n,r)=>{const s=o[n],i={componentName:r,props:o,propName:n};return Ge(s)||typeof s===e?t&&!t.test(String(s))?new Ke(i):null:new Ke(Object.assign(Object.assign({},i),{expectedTypes:[e]}))},Ze=Ue("boolean"),_e=Ue("function"),et=e=>{const t=new Set(e);return(o,n,r)=>{const s=o[n];return Ge(s)||t.has(s)?null:new Ke({componentName:r,expectedValues:e,props:o,propName:n})}},tt=Qe,ot=Ue("string"),nt=Qe([Ue("number"),ot]),rt=n=>{const r=t(null),s=t(new Xe((e=>{n.onStateChange&&n.onStateChange({target:r,state:e})}))).current;o((()=>(s.setMedia(r.current),()=>{s.destroy()})),[]);const i=X(n.alt),a=Y(n.anchor),c="string"==typeof(d=n.bot)?d.trim():void 0;var d;const l=Q(n.className),p=ee(n.eager),m=ne(n.focus),u=(e=>{if(!e)return;let t;const o=T.exec(e);if(o){const[,,e,n]=o;t=`${e}x${n}`}return t})(n.intrinsic),h=(e=>{const t=F(e);return t&&t.toLocaleLowerCase()})(n.mediaTag),v=ce(n.mode),b=(e=>{if("offline"!==f.env&&"none"!==e)return P.test(e)?e:"preview"})(n.placeholder),y=pe(n.position),x=ue(n.preTransform),N=fe(n.ratio),O=ge(n.refit),S=$e(n.src),E=be(n.step),j=we(n.title),k=(e=>{"boolean"!=typeof e&&(e=F(e)||!0);const t={};return String(e).split(/\s*\+\s*|\s+/).forEach((e=>t[`${xe[e]||"fade"}`]=!0)),t})(n.transition),D=Ne(n.transitionDelay),z=Oe(n.transitionDuration),M=Se(n.transitionTimingFunction),{videoOptions:R}=n,C=((e,t)=>$(t,f.domain).isSpecial?void 0:e)(b,S);return e.createElement("div",{suppressHydrationWarning:!0,className:Le(l,n.src,k),style:Be(N),title:j},e.createElement(h,Object.assign({ref:r,alt:Ce(i,h),style:We(a,h,v,y,D,z,M)},((e,t,o,n,r,s,i,a,c,d,l,p)=>{const m={},{videoTransform:u,posterTransform:h}=p||{},v=Me({anchor:e,debug:"debug"===f.env,focus:n,mode:i,preTransform:a,refit:c});return(v||u)&&(m[g("transform")]=`${v}${u||""}${w(i,c)||""}`),"string"==typeof t&&(m[g("bot")]=t||"/"),o&&(m[g("eager")]=""),r&&(m[g("intrinsic")]=r),d&&("img"===s||"video"===s?m[g("src")]=d:m[g("background")]=`url(${d})`),d&&"video"===s&&(m[g("poster")]=d,m[g("poster-transform")]=`${v}${h||""}/*/output=image`),void 0!==l&&(m[g("step")]=String(l)),m})(a,c,p,m,u,h,v,x,O,S,E,R))),C&&e.createElement("div",{suppressHydrationWarning:!0,style:Ae(a,m,v,C,y,x,N,O,S,k,D,z,M,R,s.setPlaceholderData)}))};rt.propTypes={alt:ot,anchor:et(x),bot:ot,className:ot,focus:ot,intrinsic:ot,mode:et(E),eager:tt([Ze,ot]),onStateChange:_e,placeholder:et(k),position:ot,preTransform:ot,ratio:nt,src:ot,step:nt,title:ot,transition:tt([Ze,ot]),transitionDelay:ot,transitionDuration:ot,transitionTimingFunction:ot};const st={mediaTag:"div"},it=t=>{const o=Object.assign(Object.assign({},st),t),{className:n}=o,r=De(o,["className"]),s=Q(n)||"";return e.createElement("div",{className:`twic-i ${s}`},e.createElement(rt,Object.assign({},r,{className:""})))};it.propTypes={mediaTag:ot};const at=(e,t)=>{if(e<0||e>t)return Math.min(Math.max(0,e),t);let o=2*e/t;return o<1?t/2*o**3:(o-=2,t/2*(o**3+2))},ct=e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget,{left:o,top:n,right:r,bottom:s}=t.getBoundingClientRect(),{clientX:i,clientY:a}=e instanceof MouseEvent?e:e.touches[0];t.style.setProperty("--twic-xr",at(i-o,r-o).toString()),t.style.setProperty("--twic-yr",at(a-n,s-n).toString())},dt=n=>{const r=t(null);o((()=>{Te(n.zoom)&&(e=>{const t=e.firstElementChild;t.addEventListener("mousemove",(e=>ct(e))),t.addEventListener("touchmove",(e=>ct(e)))})(r.current)}),[]);const s=Q(n.className)||"",i=Te(n.zoom);return e.createElement("div",{ref:r,className:`twic-i ${s} ${i?"twic-z":""}`,style:Ie(i)},i&&e.createElement(rt,Object.assign({},n,{className:"twic-m",mediaTag:"div",mode:"cover"})),e.createElement(rt,Object.assign({},n,{className:"",mediaTag:"img"})))};dt.propTypes={refit:tt([Ze,ot]),zoom:nt};const lt=e=>{ke({domain:e.domain,env:e.env,path:e.path});const t={anticipation:G(e.anticipation),breakpoints:e.breakpoints,class:K(e.class),debug:U(e.debug),domain:Z(e.domain),env:oe(e.env),handleShadowDom:ie(e.handleShadowDom),maxDPR:ae(e.maxDPR),path:le(e.path),scriptElementId:"twicpics-script",step:be(e.step)};return v(t),o((()=>{document.getElementById(t.scriptElementId)||je(t)}),[]),null};lt.propTypes={anticipation:nt,class:ot,debug:Ze,domain:ot,env:ot,handleShadowDom:Ze,maxDPR:nt,path:ot,step:nt};const[pt,mt]=n.split(".").map((e=>{const t=Number(e);return isNaN(t)?0:t})),ut=pt>18||18===pt&&mt>=3?"fetchPriority":"fetchpriority",ft=t=>{const o=X(t.alt),n=J(t.anchor),r=Q(t.className)||"",s=ee(t.eager),i=te(t.fetchpriority),a=re(t.focus),c=de(t.mode),d=me(t.position),l=ue(t.preTransform),p=he(t.ratio),m=ge(t.refit),u=$e(t.src),h=ve(t.sizes),g=we(t.title),v=((e,t,o,n,r,s,i,a,c,d,l)=>{if(!f.domain)return;const p=((e,t,o,n,r,s)=>{const i=new Set([...Object.keys(e).map(Number),...Object.keys(t).map(Number),...Object.keys(o).map(Number),...Object.keys(n).map(Number),...Object.keys(r).map(Number),...Object.keys(s).map(Number)]),a=[...new Set([...Object.values(f.breakpoints),...Array.from(i).filter((e=>e>0))])].sort(((e,t)=>e-t)),c=Array.from(i).sort(((e,t)=>e-t)).map((i=>({breakpoint:i,anchor:e[i],focus:t[i],mode:o[i],position:n[i],ratio:r[i],sizes:s[i]})));for(let e=1;e<c.length;e++){const t=c[e-1],o=c[e];for(const e of Object.keys(c[0]))o[e]||(o[e]=t[e])}return c.map(((e,t)=>{var o,n;const{anchor:r,breakpoint:s,focus:i,mode:d,position:l,ratio:p,sizes:m}=e,u=null!==(n=null===(o=c[t+1])||void 0===o?void 0:o.breakpoint)&&void 0!==n?n:void 0,f=s||u||Math.max(...a);return{anchor:r,breakpoint:s,focus:i,media:`(min-width: ${s}px)`,mode:d,position:l,ratio:p,resolutions:a.filter((e=>e>=s&&(void 0===u||e<u||0===s&&e<=u))),sizes:m,width:f,height:p?`${Math.round(f*p)}`:void 0}})).sort(((e,t)=>t.breakpoint-e.breakpoint))})(e,n,r,s,a,d),m=p.map(((e,n)=>{const{anchor:r,focus:s,media:a,mode:d,position:m,ratio:u,resolutions:h,sizes:g,width:v,height:b}=e,$="contain"===d?"inside":d,x=ze(r,d,m),N=`${Me({anchor:r,focus:s,mode:d,preTransform:i,refit:c})}${w(d,c)||""}${x?`@${x.replace(/(\s)/g,"-")}`:""}`,O=new Set;for(let e=1;e<=f.maxDPR;e++)h.forEach((t=>O.add(t*e)));const S=new Map;Array.from(O).sort(((e,t)=>t-e)).forEach((e=>{S.set(e,y({context:{height:u?Math.round(e*u):void 0,mode:$,width:e},domain:f.domain,transform:N,src:l}))}));const T={height:b,sizes:g,width:`${v}`};return T.srcSet=Array.from(S,(([e,t])=>`${t} ${e}w`)).join(","),n===p.length-1?(T.fetchPriority=t?o||"high":o,T.loading=t?"eager":"lazy",T.src=S.get(v)):T.media=a,T}));return{img:m.pop(),sources:m}})(n,s,i,a,c,d,l,p,m,h,u),b=(null==v?void 0:v.img)||{},{fetchPriority:$}=b,x=De(b,["fetchPriority"]);return e.createElement("div",{className:`twic-i ${r}`},e.createElement("picture",{className:"twic-p",title:g},(null==v?void 0:v.sources)&&v.sources.map(((t,o)=>e.createElement("source",Object.assign({key:o},t)))),e.createElement("img",Object.assign({suppressHydrationWarning:!0,alt:Ce(o,"img"),[ut]:$},x))))};ft.propTypes={alt:ot,anchor:et(x),className:ot,eager:tt([Ze,ot]),fetchpriority:ot,focus:ot,mode:ot,position:ot,preTransform:ot,ratio:nt,refit:tt([Ze,ot]),sizes:ot,src:ot,title:ot};const ht=t=>{const o=Q(t.className)||"",n=(r=_(t.duration),s=se(t.from),i=se(t.posterFrom),{videoTransform:`${s?`/from=${s}`:""}${(a=ye(t.to))?`/to=${a}`:""}${r?`/duration=${r}`:""}`,posterTransform:i||s?`/from=${void 0===i?s:i}`:""});var r,s,i,a;return e.createElement("div",{className:`twic-i ${o}`},e.createElement(rt,Object.assign({},t,{className:"",mediaTag:"video",refit:!1,videoOptions:n})))};ht.propTypes={duration:nt,from:nt,posterFrom:nt,to:nt};const gt=t=>{const{children:o}=t,n=De(t,["children"]);return e.createElement("div",Object.assign({[g("view")]:""},n),o)},vt=Pe;export{it as TwicBackground,dt as TwicImg,lt as TwicInstall,ft as TwicPicture,ht as TwicVideo,gt as TwicView,Pe as installTwicPics,vt as installTwicpics};
//# sourceMappingURL=module.mjs.map
