'use client';"use strict";var e=require("react");const t=e=>{if(!e)return;const{attributes:o,element:n,elementName:r,value:s}=e,i=n||document.createElement(r||"div");if(o&&i instanceof HTMLElement)for(const[e,t]of Object.entries(o))i.setAttribute(e,String(t));if(s)if("string"==typeof s)i.innerHTML=s;else for(const e of Array.isArray(s)?s:[s]){const o=t(e);o&&i.appendChild(o)}return i},o=/px$/,n=e=>Number(e.replace(o,"")),r="undefined"!=typeof document,s=()=>{},i=(e,{filter:t,defaultValue:o}={})=>n=>{let r;return n&&`${n}`.replace(e,((e,t)=>r=t)),(t?t(r):r)||o},a=e=>{throw new Error((e=>`twicpics-components ${e}`)(e))},c=(e,{border:t="\\s",regExpFlags:o}={})=>new RegExp(`^(?:${t})*(${Array.isArray(e)?e.join("|"):e})(?:${t})*$`,o),d={breakpoints:{xs:320,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},class:"twic",domain:void 0,env:"production",handleShadowDom:s,maxDPR:void 0,path:"",step:void 0},l=r&&window,p=r?l["~ TPCC"]||(l["~ TPCC"]=d):d,m=()=>`.twic-w>.${p.class}-background-done+div,.twic-w>.${p.class}-done+div,.twic-w>.${p.class}-poster-done+div{opacity:0 !important}.twic-w>.${p.class}-done,.twic-w>.${p.class}-poster-done{transform:none !important}`,u=e=>`data-${p.class}-${e}`,f=e=>{const{breakpoints:o={},debug:n,domain:i,class:a,env:c,handleShadowDom:d,maxDPR:l,path:f}=e;p.breakpoints=Object.assign(Object.assign({},p.breakpoints),o),p.class=a||p.class,p.domain=i,p.env=n?"debug":c,p.maxDPR=Math.max(1,l||2),p.path=f,p.handleShadowDom=d&&r?(e=>{const o=new WeakSet;return n=>{for(;n&&!o.has(n);){o.add(n);const{parentNode:r}=n;if(!r&&n instanceof ShadowRoot){if("closed"===n.mode)throw new Error("cannot use TwicPics components in closed ShadowRoot");t({element:n,value:{elementName:"style",value:`.twic-i{overflow:hidden}.twic-w,.twic-w *{border:none;margin:0;overflow:hidden;padding:0}.twic-w{overflow:hidden;position:relative;padding-top:100%;width:100%;padding-top:calc(100% / var(--twic-ratio,1))}.twic-w>*{display:block;height:100%;left:0;position:absolute;top:0;width:100%;transition-property:opacity,transform;will-change:opacity,transform;background-size:cover;background-position:center;background-repeat:no-repeat;object-fit:cover;object-position:center;transition-delay:0s;transition-duration:.4s;transition-timing-function:ease;object-fit:var(--twic-mode,cover);object-position:var(--twic-position,center);transition-delay:var(--twic-transition-delay,0s);transition-duration:var(--twic-transition-duration,400ms);transition-timing-function:var(--twic-transition-timing-function,ease)}.twic-w>div{background-repeat:no-repeat;background-size:cover;background-position:center;background-size:var(--twic-mode,cover);background-position:var(--twic-position,center);font-size:calc(1px / var(--twic-ratio,1))}.twic-w>img:not([src]),.twic-w>img[src=\"\"]{visibility:hidden}.twic-w.twic-tz>img{transform:scale(0)}.twic-w.twic-tf>div{opacity:1}.twic-d{display:block}.twic-offline{background-color:#ccc}.twic-offline.twic-nosrc{background-color:#fd0016}.twic-offline>*{display:none}:root{--twic-zoom:0}.twic-z{position:relative}.twic-m{left:0;position:absolute;top:0;z-index:1}.twic-m>*{display:none;transition:none;width:calc(max(var(--twic-zoom),1) * 100%);height:calc(max(var(--twic-zoom),1) * 100%);transform:translate3d(calc((1 - max(var(--twic-zoom),1)) * var(--twic-xr,0) * 1px),calc((1 - max(var(--twic-zoom),1)) * var(--twic-yr,0) * 1px),0)}.twic-m:hover>*{display:block}.twic-m:hover+div,twicmedia:hover+twicmedia{opacity:0}.twic-p{border:none;margin:0;overflow:hidden;padding:0}.twic-p>img{display:block;object-fit:cover;object-position:center;width:100%;height:100%}${m()}`}}),(n=n.host)&&n.setAttribute(e,"")}else n=r}}})(u("component")):s},h=/^(?:(auth|placeholder|rel)|(image|media|video)|[^:]*):(\/*)((v[0-9]+(?=[/?]))?[^?]*(\?.*)?)$/,g=(e,t="")=>{const o=e&&h.exec(e);return{isAbsolute:e.slice(0,t.length+1)===`${t}/`,isSpecial:o&&void 0!==o[1]}},v=({domain:e,context:t,inspect:o,output:n,quality:r,src:s,transform:i})=>{const{isAbsolute:a}=g(s,e),c=a?`media:${s.slice(`${e}/`.length)}`:s,d=h.exec(c),l=d&&d[2],p=n?`/output=${n}`:"",m=l?d[4]:c,u=r?`/quality=${r}`:"",f=o?"/inspect":"",v=(({height:e,mode:t,width:o},n)=>{if(n&&(o||e)){const r=e||"-",s=o||"-";return n.replace(/(\/*\*)/g,`/${t}=${s}x${r}`).replace(/WxH/g,`${s}x${r}`)}return n})(t,i);return`${e}/${d&&(d[1]||d[5])?`v1${v}${p}${u}${f}/${l?`${d[2]}:${m}`:m}`:`${m}${d&&d[6]?"&":"?"}twic=v1${v}${p}${f}${u}`}`},b=(e,t)=>"cover"===e&&void 0!==t?"":"/*",$=["center"];for(const e of["","bottom","top"])for(const t of["","left","right"])(t||e)&&$.push(e?t?`${e}-${t}`:e:t);const w=/\?|^\/*$/;c($);const y=/(^https?:\/\/[^/]+)\/*$/,x=c(["high","low","auto"]),N=c("\\s*(\\d+)\\s*[x]\\s*(\\d+)\\s*"),T=["contain","cover"],O=c(T),E=["maincolor","meancolor","none","preview"],S=c(E),k=/^\/*(.+?)\/*$/,j=c("(\\d+(?:\\.\\d+)?)(?:\\s*[\\/:]\\s*(\\d+(?:\\.\\d+)?))?|(none)"),P=c(["debug","offline","production"]),D=c("(\\d+\\.?\\d*)|(css)",{regExpFlags:"i"}),z=e=>!isNaN(e)&&e>0,M=/^((image|media|video):)?\/*/,R=i(c("(?:.|\n)+?")),C=c(".+?",{border:"[\\s\\/]"}),A={true:!0,false:!1,"":!0},F=e=>"boolean"==typeof e?e:void 0!==e&&A[e.trim()],H=/(?:@(?<breakpoint>xs|sm|md|lg|xl|2xl|\d*)\s+)?(?<value>[^@]+)/gm,I=(e,t)=>o=>{const n={0:e(t)},r=R((o||"").toString());if(r){let o;for(;null!==(o=H.exec(r));){const{breakpoint:r,value:s}=o.groups||{},i=Number(r||"0");n[isNaN(i)?p.breakpoints[r]:i]=e(s?s.replace(/\s*,\s*$/g,""):t)}}return n},W=e=>{if("number"!=typeof e){const t=R(e);e=t&&Number(t)}return z(e)?e:void 0},B=/\b(?:(left|right)|(bottom|top))\b/g,L=e=>{const t=R(e);let o,n;if(t){let e;for(;e=B.exec(t);)e[1]?o=e[1]:n=e[2]}return{x:o,y:n}},V=I(L),q=e=>R(e)||"",Y=W,J=R,X=R,G=F,K=e=>{const t=R(e);return y.test(t)?t.replace(y,"$1"):void 0},Q=W,U=F,Z=i(x),_=i(P),ee=e=>{const t=R(e);return"none"===t?void 0:t},te=I(ee),oe=W,ne=F,re=e=>{const t=W(e);return t>=1?t:void 0},se=i(O,{defaultValue:"cover"}),ie=I(se),ae=e=>{const t=R(e);return t?t.replace(k,"$1/"):""},ce=R,de=I(ce),le=i(C,{filter:e=>e&&e.replace(/^\/*(.*[^/])\/*$/,"$1")}),pe=e=>{if("none"===e)return 0;let t;if(e)if("number"==typeof e)t=1/e;else{const o=j.exec(e);if(o){const[,,e,n]=o;t=(n?Number(n):1)/Number(e)}else t=1}return z(t)?t:void 0},me=I(pe,1),ue=e=>{const t=F(e);if(void 0===t){const t=R((e||"").toString());return t&&t.replace(/\s/g,"")}return t?"":void 0},fe=I((e=>{const t=R(e);return t&&t.replace(/\n\s*/g,"")})),he=W,ge=e=>{if("offline"===p.env)return"";const t=R(e)||"placeholder:red",{isAbsolute:o,isSpecial:n}=g(t,p.domain);return n?t:o?`media:${t.slice(`${p.domain}/`.length)}`:t.replace(M,`media:${p.path}`)},ve=W,be=e=>e&&e.trim(),$e={true:"fade",false:"none",fade:"fade",zoom:"zoom",none:"none"},we=R,ye=R,xe=R,Ne=e=>{if("string"==typeof e){const t=D.exec(e);if(t&&t[3])return!0;e=t&&t[2]?Number(t[2]):void 0}return z(e)&&e>1?e:void 0},Te=[["anticipation","anticipation"],["class","class"],["maxDPR","max-dpr"],["step","step"]],Oe=e=>{if(r){const o=[`${p.domain}/?v1`];Te.forEach((t=>{const[n,r]=t;e.hasOwnProperty(n)&&e[n]&&o.push(`${r}=${e[n]}`)}));const{scriptElementId:n}=e;t({element:document.head,value:[{attributes:{rel:"preconnect",href:p.domain},elementName:"link"},{attributes:Object.assign(Object.assign({async:"",defer:""},n&&{id:n}),{src:o.join("&")}),elementName:"script"}]});const r=t({elementName:"style",value:m()});document.head.appendChild(r),document.addEventListener("astro:after-swap",(()=>document.head.appendChild(r)))}},Ee=e=>{e||a("install options not provided");const{domain:t,env:o,path:n}=e;t&&y.test(t)||a(`install domain "${t}" is invalid`),n&&w.test(n)&&a(`install path "${n}" is invalid`),o&&!P.test(o)&&a(`install env "${o}" is invalid`)},Se=e=>{Ee(e);const{domain:t,env:o,path:n}=e;f(Object.assign(Object.assign({},e),{domain:K(t),env:_(o),path:ae(n)})),Oe(e)};function ke(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o}"function"==typeof SuppressedError&&SuppressedError;const je=({x:e,y:t},o,n)=>"contain"===o&&(n||(t?e?`${t} ${e}`:t:e)),Pe=({anchor:{x:e,y:t},debug:o,focus:n,mode:r,preTransform:s,refit:i})=>{const a=t?e?`${t}-${e}`:t:e,c="contain"!==r&&void 0===i&&(n||a),d=((e,t,o)=>void 0!==o&&`${"contain"===t?"auto":"WxH"}${o?`(${o})`:""}${e&&"contain"!==t?`@${e}`:""}`)(a,r,i);return`${o?"/debug":""}${s?`/${s}`:""}${c?`/focus=${c}`:""}${d?`/refit=${d}`:""}`},De=(e,t,o)=>{const n={};return t&&(n.transitionDuration=t),e&&(n.transitionDelay=e),o&&(n.transitionTimingFunction=o),n},ze=(e,t)=>"img"===t?e:void 0,Me=(e,t,o,n,r,s,i,a,c,d,l,p,m,u,f)=>{const h=De(l,p,m);f({anchor:e,focus:t,mode:o,placeholder:n,preTransform:s,ratio:i,refit:a,src:c,transitions:d,videoOptions:u}),o&&(h.backgroundSize=o);const g=je(e,o,r);return g&&(h.backgroundPosition=g),h},Re={img:"objectPosition",video:"objectPosition"},Ce={img:"objectFit",video:"objectFit"},Ae=(e,t,o,n,r,s,i)=>{const a=De(r,s,i),c=je(e,o,n);return c&&(a[Re[t]||"backgroundPosition"]=c),o&&(a[Ce[t]||"backgroundSize"]=o),a},Fe=(e,t,o)=>{const n=["twic-w"];return e&&n.push(e),o.hasOwnProperty("none")||(o.hasOwnProperty("fade")&&n.push("twic-tf"),o.hasOwnProperty("zoom")&&n.push("twic-tz")),"offline"===p.env&&(n.push("twic-offline"),t||n.push("twic-nosrc")),n.join(" ")},He=e=>0===e?{height:"100%",paddingTop:"0"}:{paddingTop:void 0===e?"":100*e+"%"},Ie=e=>{const t={};return"boolean"!=typeof e&&e&&(t["--twic-zoom"]=`${e}`),t},We=new WeakMap,Be=r&&"undefined"!=typeof MutationObserver&&new MutationObserver((e=>{for(const{target:t}of e){const e=We.get(t);e&&e.handleState()}})),Le=r&&"undefined"!=typeof ResizeObserver&&new ResizeObserver((e=>{for(const{target:t}of e){const e=We.get(t);e&&e.refreshBackground()}})),Ve=new RegExp(`(?:\\s*)(?:${p.class}(?:-background)*-)(done|error|loading)`);class qe{constructor(e=void 0){this.handleState=()=>{if(this.stateHandler){let e="new";const{className:t}=this.media,o=Ve.exec(t);o&&([,e]=o),this.stateHandler(e)}},this.refreshBackground=((e,t)=>{let o;const n=Object.assign({leading:!0,ms:0,trailing:!0},{ms:100});return(...t)=>{!o&&n.leading&&e(...t),clearTimeout(o),o=setTimeout((()=>{o=void 0,n.trailing&&e(...t)}),n.ms)}})((()=>{if(this.media&&this.placeholderData){const e=this.media.nextElementSibling,t=((e,{anchor:t,focus:o,mode:r,placeholder:s,preTransform:i,src:a,ratio:c,refit:d,transitions:l,videoOptions:m})=>{if(!p.domain||!e||!s||l.hasOwnProperty("zoom"))return"";const u=getComputedStyle(e),f=r||se(u.backgroundSize);let h;h=0===c?"contain"===f?1:n(u.height)/Math.max(1,n(u.width)):null!=c?c:n(u.fontSize);let g=1e3,$=1e3;h<1?g*=h:$/=h;const{videoTransform:w}=m||{},y=`${Pe({anchor:t,focus:o,mode:r,preTransform:i,refit:d})}${w||""}${b(f,d)||""}`;return v({context:{height:Math.max(1,Math.round(g)),mode:f,width:Math.max(1,Math.round($))},domain:p.domain,transform:y,src:a,output:s})})(e,this.placeholderData);t&&t!==this.savedWrapperBackground&&(this.savedWrapperBackground=t,e.style.backgroundImage=`url(${JSON.stringify(t)})`)}})),this.setMedia=e=>{e&&(p.handleShadowDom(e),this.media=e,We.set(this.media,this),Be&&(Be.observe(this.media,{attributes:!0,attributeFilter:["class"]}),this.handleState()),Le&&Le.observe(this.media))},this.setPlaceholderData=e=>{this.placeholderData=e,this.media&&this.refreshBackground()},this.destroy=()=>{this.media&&this.media&&Le&&Le.unobserve(this.media)},this.stateHandler=e}}const Ye=e=>null==e;class Je extends Error{constructor({componentName:e,expectedTypes:t,expectedValues:o,props:n,propName:r}){const s=t||o;super(`Invalid prop '${r}'${o?` value '${n[r]}'`:""}${t?` type '${typeof n[r]}'`:""} supplied to '${e}'${s?` expected ${s.length>1?"one of ":""}${t?"type ":""}'${s.join(", ")}'`:""}.`),this.expected=s&&s[0]}}const Xe=e=>(t,o,n)=>{const r=[];for(const s of e){const e=s(t,o,n);if(null===e)return null;r.push(e.expected)}return new Je({componentName:n,expectedTypes:r,props:t,propName:o})},Ge=(e,t)=>(o,n,r)=>{const s=o[n],i={componentName:r,props:o,propName:n};return Ye(s)||typeof s===e?t&&!t.test(String(s))?new Je(i):null:new Je(Object.assign(Object.assign({},i),{expectedTypes:[e]}))},Ke=Ge("boolean"),Qe=Ge("function"),Ue=e=>{const t=new Set(e);return(o,n,r)=>{const s=o[n];return Ye(s)||t.has(s)?null:new Je({componentName:r,expectedValues:e,props:o,propName:n})}},Ze=Xe,_e=Ge("string"),et=Xe([Ge("number"),_e]),tt=t=>{const o=e.useRef(null),n=e.useRef(new qe((e=>{t.onStateChange&&t.onStateChange({target:o,state:e})}))).current;e.useEffect((()=>(n.setMedia(o.current),()=>{n.destroy()})),[]);const r=q(t.alt),s=L(t.anchor),i="string"==typeof(a=t.bot)?a.trim():void 0;var a;const c=X(t.className),d=U(t.eager),l=ee(t.focus),m=(e=>{if(!e)return;let t;const o=N.exec(e);if(o){const[,,e,n]=o;t=`${e}x${n}`}return t})(t.intrinsic),f=(e=>{const t=R(e);return t&&t.toLocaleLowerCase()})(t.mediaTag),h=se(t.mode),v=(e=>{if("offline"!==p.env&&"none"!==e)return S.test(e)?e:"preview"})(t.placeholder),$=ce(t.position),w=le(t.preTransform),y=pe(t.ratio),x=ue(t.refit),T=ge(t.src),O=he(t.step),E=be(t.title),k=(e=>{"boolean"!=typeof e&&(e=R(e)||!0);const t={};return String(e).split(/\s*\+\s*|\s+/).forEach((e=>t[`${$e[e]||"fade"}`]=!0)),t})(t.transition),j=we(t.transitionDelay),P=ye(t.transitionDuration),D=xe(t.transitionTimingFunction),{videoOptions:z}=t,M=((e,t)=>g(t,p.domain).isSpecial?void 0:e)(v,T);return e.createElement("div",{suppressHydrationWarning:!0,className:Fe(c,t.src,k),style:He(y),title:E},e.createElement(f,Object.assign({ref:o,alt:ze(r,f),style:Ae(s,f,h,$,j,P,D)},((e,t,o,n,r,s,i,a,c,d,l,m)=>{const f={},{videoTransform:h,posterTransform:g}=m||{},v=Pe({anchor:e,debug:"debug"===p.env,focus:n,mode:i,preTransform:a,refit:c});return(v||h)&&(f[u("transform")]=`${v}${h||""}${b(i,c)||""}`),"string"==typeof t&&(f[u("bot")]=t||"/"),o&&(f[u("eager")]=""),r&&(f[u("intrinsic")]=r),d&&("img"===s||"video"===s?f[u("src")]=d:f[u("background")]=`url(${d})`),d&&"video"===s&&(f[u("poster")]=d,f[u("poster-transform")]=`${v}${g||""}/*/output=image`),void 0!==l&&(f[u("step")]=String(l)),f})(s,i,d,l,m,f,h,w,x,T,O,z))),M&&e.createElement("div",{suppressHydrationWarning:!0,style:Me(s,l,h,M,$,w,y,x,T,k,j,P,D,z,n.setPlaceholderData)}))};tt.propTypes={alt:_e,anchor:Ue($),bot:_e,className:_e,focus:_e,intrinsic:_e,mode:Ue(T),eager:Ze([Ke,_e]),onStateChange:Qe,placeholder:Ue(E),position:_e,preTransform:_e,ratio:et,src:_e,step:et,title:_e,transition:Ze([Ke,_e]),transitionDelay:_e,transitionDuration:_e,transitionTimingFunction:_e};const ot={mediaTag:"div"},nt=t=>{const o=Object.assign(Object.assign({},ot),t),{className:n}=o,r=ke(o,["className"]),s=X(n)||"";return e.createElement("div",{className:`twic-i ${s}`},e.createElement(tt,Object.assign({},r,{className:""})))};nt.propTypes={mediaTag:_e};const rt=(e,t)=>{if(e<0||e>t)return Math.min(Math.max(0,e),t);let o=2*e/t;return o<1?t/2*o**3:(o-=2,t/2*(o**3+2))},st=e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget,{left:o,top:n,right:r,bottom:s}=t.getBoundingClientRect(),{clientX:i,clientY:a}=e instanceof MouseEvent?e:e.touches[0];t.style.setProperty("--twic-xr",rt(i-o,r-o).toString()),t.style.setProperty("--twic-yr",rt(a-n,s-n).toString())},it=t=>{const o=e.useRef(null);e.useEffect((()=>{Ne(t.zoom)&&(e=>{const t=e.firstElementChild;t.addEventListener("mousemove",(e=>st(e))),t.addEventListener("touchmove",(e=>st(e)))})(o.current)}),[]);const n=X(t.className)||"",r=Ne(t.zoom);return e.createElement("div",{ref:o,className:`twic-i ${n} ${r?"twic-z":""}`,style:Ie(r)},r&&e.createElement(tt,Object.assign({},t,{className:"twic-m",mediaTag:"div",mode:"cover"})),e.createElement(tt,Object.assign({},t,{className:"",mediaTag:"img"})))};it.propTypes={refit:Ze([Ke,_e]),zoom:et};const at=t=>{Ee({domain:t.domain,env:t.env,path:t.path});const o={anticipation:Y(t.anticipation),breakpoints:t.breakpoints,class:J(t.class),debug:G(t.debug),domain:K(t.domain),env:_(t.env),handleShadowDom:ne(t.handleShadowDom),maxDPR:re(t.maxDPR),path:ae(t.path),scriptElementId:"twicpics-script",step:he(t.step)};return f(o),e.useEffect((()=>{document.getElementById(o.scriptElementId)||Oe(o)}),[]),null};at.propTypes={anticipation:et,class:_e,debug:Ke,domain:_e,env:_e,handleShadowDom:Ke,maxDPR:et,path:_e,step:et};const[ct,dt]=e.version.split(".").map((e=>{const t=Number(e);return isNaN(t)?0:t})),lt=ct>18||18===ct&&dt>=3?"fetchPriority":"fetchpriority",pt=t=>{const o=q(t.alt),n=V(t.anchor),r=X(t.className)||"",s=U(t.eager),i=Z(t.fetchpriority),a=te(t.focus),c=ie(t.mode),d=de(t.position),l=le(t.preTransform),m=me(t.ratio),u=ue(t.refit),f=ge(t.src),h=fe(t.sizes),g=be(t.title),$=((e,t,o,n,r,s,i,a,c,d,l)=>{if(!p.domain)return;const m=((e,t,o,n,r,s)=>{const i=new Set([...Object.keys(e).map(Number),...Object.keys(t).map(Number),...Object.keys(o).map(Number),...Object.keys(n).map(Number),...Object.keys(r).map(Number),...Object.keys(s).map(Number)]),a=[...new Set([...Object.values(p.breakpoints),...Array.from(i).filter((e=>e>0))])].sort(((e,t)=>e-t)),c=Array.from(i).sort(((e,t)=>e-t)).map((i=>({breakpoint:i,anchor:e[i],focus:t[i],mode:o[i],position:n[i],ratio:r[i],sizes:s[i]})));for(let e=1;e<c.length;e++){const t=c[e-1],o=c[e];for(const e of Object.keys(c[0]))o[e]||(o[e]=t[e])}return c.map(((e,t)=>{var o,n;const{anchor:r,breakpoint:s,focus:i,mode:d,position:l,ratio:p,sizes:m}=e,u=null!==(n=null===(o=c[t+1])||void 0===o?void 0:o.breakpoint)&&void 0!==n?n:void 0,f=s||u||Math.max(...a);return{anchor:r,breakpoint:s,focus:i,media:`(min-width: ${s}px)`,mode:d,position:l,ratio:p,resolutions:a.filter((e=>e>=s&&(void 0===u||e<u||0===s&&e<=u))),sizes:m,width:f,height:p?`${Math.round(f*p)}`:void 0}})).sort(((e,t)=>t.breakpoint-e.breakpoint))})(e,n,r,s,a,d),u=m.map(((e,n)=>{const{anchor:r,focus:s,media:a,mode:d,position:u,ratio:f,resolutions:h,sizes:g,width:$,height:w}=e,y="contain"===d?"inside":d,x=je(r,d,u),N=`${Pe({anchor:r,focus:s,mode:d,preTransform:i,refit:c})}${b(d,c)||""}${x?`@${x.replace(/(\s)/g,"-")}`:""}`,T=new Set;for(let e=1;e<=p.maxDPR;e++)h.forEach((t=>T.add(t*e)));const O=new Map;Array.from(T).sort(((e,t)=>t-e)).forEach((e=>{O.set(e,v({context:{height:f?Math.round(e*f):void 0,mode:y,width:e},domain:p.domain,transform:N,src:l}))}));const E={height:w,sizes:g,width:`${$}`};return E.srcSet=Array.from(O,(([e,t])=>`${t} ${e}w`)).join(","),n===m.length-1?(E.fetchPriority=t?o||"high":o,E.loading=t?"eager":"lazy",E.src=O.get($)):E.media=a,E}));return{img:u.pop(),sources:u}})(n,s,i,a,c,d,l,m,u,h,f),w=(null==$?void 0:$.img)||{},{fetchPriority:y}=w,x=ke(w,["fetchPriority"]);return e.createElement("div",{className:`twic-i ${r}`},e.createElement("picture",{className:"twic-p",title:g},(null==$?void 0:$.sources)&&$.sources.map(((t,o)=>e.createElement("source",Object.assign({key:o},t)))),e.createElement("img",Object.assign({suppressHydrationWarning:!0,alt:ze(o,"img"),[lt]:y},x))))};pt.propTypes={alt:_e,anchor:Ue($),className:_e,eager:Ze([Ke,_e]),fetchpriority:_e,focus:_e,mode:_e,position:_e,preTransform:_e,ratio:et,refit:Ze([Ke,_e]),sizes:_e,src:_e,title:_e};const mt=t=>{const o=X(t.className)||"",n=(r=Q(t.duration),s=oe(t.from),i=oe(t.posterFrom),{videoTransform:`${s?`/from=${s}`:""}${(a=ve(t.to))?`/to=${a}`:""}${r?`/duration=${r}`:""}`,posterTransform:i||s?`/from=${void 0===i?s:i}`:""});var r,s,i,a;return e.createElement("div",{className:`twic-i ${o}`},e.createElement(tt,Object.assign({},t,{className:"",mediaTag:"video",refit:!1,videoOptions:n})))};mt.propTypes={duration:et,from:et,posterFrom:et,to:et};const ut=Se;exports.TwicBackground=nt,exports.TwicImg=it,exports.TwicInstall=at,exports.TwicPicture=pt,exports.TwicVideo=mt,exports.TwicView=t=>{const{children:o}=t,n=ke(t,["children"]);return e.createElement("div",Object.assign({[u("view")]:""},n),o)},exports.installTwicPics=Se,exports.installTwicpics=ut;
//# sourceMappingURL=index.js.map
