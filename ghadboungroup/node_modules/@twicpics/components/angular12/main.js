!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("lib",["exports","@angular/core","@angular/common"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self).lib={},global.ng.core,global.ng.common)}(this,function(exports,i0,i1){"use strict";function _interopNamespace(e){var n;return e&&e.__esModule?e:(n=Object.create(null),e&&Object.keys(e).forEach(function(k){var d;"default"!==k&&(d=Object.getOwnPropertyDescriptor(e,k),Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}}))}),n.default=e,Object.freeze(n))}var i0__namespace=_interopNamespace(i0),i1__namespace=_interopNamespace(i1);Object.create;function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return{value:(o=o&&i>=o.length?void 0:o)&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||((ar=ar||Array.prototype.slice.call(from,0,i))[i]=from[i]);return to.concat(ar||from)}Object.create;function buildErrorMessage(message){return"twicpics-components "+message}function regExpFinderFactory(regExp,_a){var filter=(_a=void 0===_a?{}:_a).filter,defaultValue=_a.defaultValue;return function(value){var found;return value&&(""+value).replace(regExp,function(_,v){return found=v}),(filter?filter(found):found)||defaultValue}}function trimRegExpFactory(items,_a){var _c=void 0===(_c=(_a=void 0===_a?{}:_a).border)?"\\s":_c,_a=_a.regExpFlags;return new RegExp("^(?:"+_c+")*("+(Array.isArray(items)?items.join("|"):items)+")(?:"+_c+")*$",_a)}var e_2,_b,createElement=function(data){var e_1,_a,e_2,_b;if(data){var attributes=data.attributes,_element=data.element,elementName=data.elementName,data=data.value,element=_element||document.createElement(elementName||"div");if(attributes&&element instanceof HTMLElement)try{for(var _c=__values(Object.entries(attributes)),_d=_c.next();!_d.done;_d=_c.next()){var _e=__read(_d.value,2),n=_e[0],v=_e[1];element.setAttribute(n,String(v))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}if(data)if("string"==typeof data)element.innerHTML=data;else try{for(var _f=__values(Array.isArray(data)?data:[data]),_g=_f.next();!_g.done;_g=_f.next()){var child=_g.value,actualChild=createElement(child);actualChild&&element.appendChild(actualChild)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_g&&!_g.done&&(_b=_f.return)&&_b.call(_f)}finally{if(e_2)throw e_2.error}}return element}},rPx=/px$/,cssWithoutPx=function(css){return Number(css.replace(rPx,""))},isReactNative=!1,isBrowser="undefined"!=typeof document,noop=function(){},throwError=function(message){throw new Error(buildErrorMessage(message))},defaultConfig={breakpoints:{xs:320,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},class:"twic",domain:void 0,env:"production",handleShadowDom:noop,maxDPR:void 0,path:"",step:void 0},w=isBrowser&&window,config=isBrowser?w["~ TPCC"]||(w["~ TPCC"]=defaultConfig):defaultConfig,configBasedStyle=function(){return".twic-w>."+config.class+"-background-done+div,.twic-w>."+config.class+"-done+div,.twic-w>."+config.class+"-poster-done+div{opacity:0 !important}.twic-w>."+config.class+"-done,.twic-w>."+config.class+"-poster-done{transform:none !important}"},getDataAttributeName=function(baseName){return"data-"+config.class+"-"+baseName},handleShadowDomFactory=function(attributeName){var marked=new WeakSet;return function(item){for(;item&&!marked.has(item);){marked.add(item);var parentNode=item.parentNode;if(!parentNode&&item instanceof ShadowRoot){if("closed"===item.mode)throw new Error("cannot use TwicPics components in closed ShadowRoot");createElement({element:item,value:{elementName:"style",value:"*STYLE*"+configBasedStyle()}}),(item=item.host)&&item.setAttribute(attributeName,"")}else item=parentNode}}},DEFAULT_MAX_DPR=2,rPath=/^(?:(auth|placeholder|rel)|(image|media|video)|[^:]*):(\/*)((v[0-9]+(?=[/?]))?[^?]*(\?.*)?)$/,FULL_PATH=4,MEDIA=2,QUERY=6,RESERVED=5,SPECIAL=1,VERSION$1="v1",urlInfos=function(src,domain){void 0===domain&&(domain="");var parsed=src&&rPath.exec(src);return{isAbsolute:src.slice(0,domain.length+1)===domain+"/",isSpecial:parsed&&void 0!==parsed[SPECIAL]}},computeTransform=function(_a,transform){var height=_a.height,mode=_a.mode,_a=_a.width;return transform&&(_a||height)?transform.replace(/(\/*\*)/g,"/"+mode+"="+(mode=_a||"-")+"x"+(_a=height||"-")).replace(/WxH/g,mode+"x"+_a):transform},createUrl=function(_a){var domain=_a.domain,context=_a.context,inspect=_a.inspect,output=_a.output,quality=_a.quality,src=_a.src,_a=_a.transform,src=urlInfos(src,domain).isAbsolute?"media:"+src.slice((domain+"/").length):src,parsed=rPath.exec(src),isMedia=parsed&&parsed[MEDIA],output=output?"/output="+output:"",src=isMedia?parsed[FULL_PATH]:src,quality=quality?"/quality="+quality:"",inspect=inspect?"/inspect":"",context=computeTransform(context,_a);return domain+"/"+(parsed&&(parsed[SPECIAL]||parsed[RESERVED])?""+VERSION$1+context+output+quality+inspect+"/"+(isMedia?parsed[MEDIA]+":"+src:src):""+src+(parsed&&parsed[QUERY]?"&":"?")+"twic="+VERSION$1+context+output+inspect+quality)},finalTransform=function(mode,refit){return"cover"===mode&&void 0!==refit?"":"/*"},validAnchors=["center"];try{for(var _c=__values(["","bottom","top"]),_d=_c.next();!_d.done;_d=_c.next()){var y=_d.value;try{e_2=void 0;for(var _e=__values(["","left","right"]),_f=_e.next();!_f.done;_f=_e.next()){var x=_f.value;(x||y)&&validAnchors.push(y?x?y+"-"+x:y:x)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_b=_e.return)&&_b.call(_e)}finally{if(e_2)throw e_2.error}}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}function isPositiveNumber(value){return!isNaN(value)&&0<value}function parseBoolean(value){return"boolean"==typeof value?value:void 0!==value&&mappingBoolean[value.trim()]}function parseBreakpointsFactory(parse,_default){return function(value){var parsedBreakPoints={0:parse(_default)},trimmed=trimOrUndefined((value||"").toString());if(trimmed)for(;null!==(match=rBreakPoints.exec(trimmed));){var match=match.groups||{},breakpoint=match.breakpoint,match=match.value,numericBreakPoint=Number(breakpoint||"0");parsedBreakPoints[isNaN(numericBreakPoint)?config.breakpoints[breakpoint]:numericBreakPoint]=parse(match?match.replace(/\s*,\s*$/g,""):_default)}return parsedBreakPoints}}function parseNumber(value){var trimmed;return"number"!=typeof value&&(value=(trimmed=trimOrUndefined(value))&&Number(trimmed)),isPositiveNumber(value)?value:void 0}function parseAnchor(anchor){var x,y,tmp,trimmed=trimOrUndefined(anchor);if(trimmed)for(;tmp=rAnchor.exec(trimmed);)tmp[1]?x=tmp[1]:y=tmp[2];return{x:x,y:y}}function parseAlt(value){return trimOrUndefined(value)||""}function parseFocus(value){return"none"===(value=trimOrUndefined(value))?void 0:value}function parseRatio(value){var width;return"none"===value?0:(value&&(width="number"==typeof value?1/value:(value=rValidRatio.exec(value))?(width=(value=__read(value,4))[2],((value=value[3])?Number(value):1)/Number(width)):1),isPositiveNumber(width)?width:void 0)}function parseRefit(value){var parsedBoolean=parseBoolean(value);return void 0===parsedBoolean?(value=trimOrUndefined((value||"").toString()))&&value.replace(/\s/g,""):parsedBoolean?"":void 0}function parseSrc(value){var _a,isAbsolute;return"offline"!==config.env||isReactNative?(value=trimOrUndefined(value)||"placeholder:red",isAbsolute=(_a=urlInfos(value,config.domain)).isAbsolute,_a.isSpecial?value:isAbsolute?"media:"+value.slice((config.domain+"/").length):value.replace(rMedia,"media:"+config.path)):""}function parseTitle(value){return value&&value.trim()}function computePosition(_c,mode,position){var x=_c.x,_c=_c.y;return"contain"===mode&&(position||(_c?x?_c+" "+x:_c:x))}function computePicture(anchors,eager,fetchPriority,focuses,modes,positions,preTransform,ratios,refit,sizes,src){var artDirectives;if(config.domain)return{img:(anchors=(artDirectives=function(anchors,focuses,modes,positions,ratios,sizes){for(var e_1,_c,allBreakpoints=new Set(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],__read(Object.keys(anchors).map(Number))),__read(Object.keys(focuses).map(Number))),__read(Object.keys(modes).map(Number))),__read(Object.keys(positions).map(Number))),__read(Object.keys(ratios).map(Number))),__read(Object.keys(sizes).map(Number)))),resolutionsList=__spreadArray([],__read(new Set(__spreadArray(__spreadArray([],__read(Object.values(config.breakpoints))),__read(Array.from(allBreakpoints).filter(function(w){return 0<w})))))).sort(function(a,b){return a-b}),artDirectives=Array.from(allBreakpoints).sort(function(a,b){return a-b}).map(function(breakpoint){return{breakpoint:breakpoint,anchor:anchors[breakpoint],focus:focuses[breakpoint],mode:modes[breakpoint],position:positions[breakpoint],ratio:ratios[breakpoint],sizes:sizes[breakpoint]}}),i=1;i<artDirectives.length;i++){var previous=artDirectives[i-1],current=artDirectives[i];try{e_1=void 0;for(var _d=__values(Object.keys(artDirectives[0])),_e=_d.next();!_e.done;_e=_d.next()){var key=_e.value;current[key]||(current[key]=previous[key])}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_e&&!_e.done&&(_c=_d.return)&&_c.call(_d)}finally{if(e_1)throw e_1.error}}}return artDirectives.map(function(source,index){var anchor=source.anchor,breakpoint=source.breakpoint,focus=source.focus,mode=source.mode,position=source.position,ratio=source.ratio,source=source.sizes,nextBreakpoint=null!=(index=null==(index=artDirectives[index+1])?void 0:index.breakpoint)?index:void 0,index=breakpoint||nextBreakpoint||Math.max.apply(Math,__spreadArray([],__read(resolutionsList)));return{anchor:anchor,breakpoint:breakpoint,focus:focus,media:"(min-width: "+breakpoint+"px)",mode:mode,position:position,ratio:ratio,resolutions:resolutionsList.filter(function(resolution){return breakpoint<=resolution&&(void 0===nextBreakpoint||resolution<nextBreakpoint||0===breakpoint&&resolution<=nextBreakpoint)}),sizes:source,width:index,height:ratio?""+Math.round(index*ratio):void 0}}).sort(function(a,b){return b.breakpoint-a.breakpoint})}(anchors,focuses,modes,positions,ratios,sizes)).map(function(artDirective,index){for(var anchor=artDirective.anchor,focus=artDirective.focus,media=artDirective.media,mode=artDirective.mode,position=artDirective.position,ratio=artDirective.ratio,resolutions=artDirective.resolutions,_sizes=artDirective.sizes,width=artDirective.width,artDirective=artDirective.height,actualMode="contain"===mode?"inside":mode,position=computePosition(anchor,mode,position),actualPreTransform=""+computePreTransform({anchor:anchor,focus:focus,mode:mode,preTransform:preTransform,refit:refit})+(finalTransform(mode,refit)||"")+(position?"@"+position.replace(/(\s)/g,"-"):""),actualResolutionSet=new Set,dpr=1;dpr<=config.maxDPR;dpr++)!function(dpr){resolutions.forEach(function(resolution){return actualResolutionSet.add(resolution*dpr)})}(dpr);var srcMap=new Map,anchor=(Array.from(actualResolutionSet).sort(function(a,b){return b-a}).forEach(function(_width){srcMap.set(_width,createUrl({context:{height:ratio?Math.round(_width*ratio):void 0,mode:actualMode,width:_width},domain:config.domain,transform:actualPreTransform,src:src}))}),{height:artDirective,sizes:_sizes,width:""+width});return anchor.srcset=Array.from(srcMap,function(_c){var _c=__read(_c,2),_width=_c[0];return _c[1]+" "+_width+"w"}).join(","),index===artDirectives.length-1?(anchor.fetchPriority=eager?fetchPriority||"high":fetchPriority,anchor.loading=eager?"eager":"lazy",anchor.src=srcMap.get(width)):anchor.media=media,anchor})).pop(),sources:anchors}}function preComputeStyle(transitionDelay,transitionDuration,transitionTimingFunction){var preComputedStyle={};return transitionDuration&&(preComputedStyle.transitionDuration=transitionDuration),transitionDelay&&(preComputedStyle.transitionDelay=transitionDelay),transitionTimingFunction&&(preComputedStyle.transitionTimingFunction=transitionTimingFunction),preComputedStyle}function computeAlt(alt,mediaTag){return"img"===mediaTag?alt:void 0}function attributes(data,element,renderer){element&&renderer&&Object.entries(data||[]).forEach(function(_a){var _a=__read(_a,2),n=_a[0],_a=_a[1];void 0===_a?renderer.removeAttribute(element,n):renderer.setAttribute(element,n,_a)})}function styles(data,element,renderer){element&&renderer&&Object.entries(data||[]).forEach(function(_a){var _a=__read(_a,2),n=_a[0],_a=_a[1];void 0===_a?renderer.removeStyle(element,n):renderer.setStyle(element,n,_a)})}function move(e){e.preventDefault(),e.stopPropagation();var currentTarget=e.currentTarget,left=(_a=currentTarget.getBoundingClientRect()).left,top=_a.top,right=_a.right,_a=_a.bottom,clientX=(e=e instanceof MouseEvent?e:e.touches[0]).clientX,e=e.clientY;currentTarget.style.setProperty("--twic-xr",ease(clientX-left,right-left).toString()),currentTarget.style.setProperty("--twic-yr",ease(e-top,_a-top).toString())}function installTwicPics(options){!function(options){options||throwError("install options not provided");var domain=options.domain,env=options.env,options=options.path;domain&&rValidDomain.test(domain)||throwError('install domain "'+domain+'" is invalid'),options&&rInvalidPath.test(options)&&throwError('install path "'+options+'" is invalid'),env&&!rValidEnvironment.test(env)&&throwError('install env "'+env+'" is invalid')}(options);var domain=options.domain,env=options.env,path=options.path;!function(options){var _a=options.breakpoints,_a=void 0===_a?{}:_a,debug=options.debug,domain=options.domain,_class=options.class,env=options.env,handleShadowDom=options.handleShadowDom,maxDPR=options.maxDPR,options=options.path;config.breakpoints=Object.assign(Object.assign({},config.breakpoints),_a),config.class=_class||config.class,config.domain=domain,config.env=debug?"debug":env,config.maxDPR=Math.max(1,maxDPR||DEFAULT_MAX_DPR),config.path=options,config.handleShadowDom=handleShadowDom&&isBrowser&&!isReactNative?handleShadowDomFactory(getDataAttributeName("component")):noop}(Object.assign(Object.assign({},options),{domain:function(value){value=trimOrUndefined(value);return rValidDomain.test(value)?value.replace(rValidDomain,"$1"):void 0}(domain),env:parseEnv(env),path:function(value){value=trimOrUndefined(value);return value?value.replace(rValidPath,"$1/"):""}(path)})),function(options){var parts_1,scriptElementId,style_1;isBrowser&&!isReactNative&&(parts_1=[config.domain+"/?"+VERSION],parametersMap.forEach(function(p){var p=__read(p,2),key=p[0],p=p[1];options.hasOwnProperty(key)&&options[key]&&parts_1.push(p+"="+options[key])}),scriptElementId=options.scriptElementId,createElement({element:document.head,value:[{attributes:{rel:"preconnect",href:config.domain},elementName:"link"},{attributes:Object.assign(Object.assign({async:"",defer:""},scriptElementId&&{id:scriptElementId}),{src:parts_1.join("&")}),elementName:"script"}]}),style_1=createElement({elementName:"style",value:configBasedStyle()}),document.head.appendChild(style_1),document.addEventListener("astro:after-swap",function(){return document.head.appendChild(style_1)}))}(options)}var rInvalidPath=/\?|^\/*$/,rValidDomain=(trimRegExpFactory(validAnchors),/(^https?:\/\/[^/]+)\/*$/),w=trimRegExpFactory(["high","low","auto"]),rValidIntrinsic=trimRegExpFactory("\\s*(\\d+)\\s*[x]\\s*(\\d+)\\s*"),defaultConfig=trimRegExpFactory(["contain","cover"]),rValidPlaceholder=trimRegExpFactory(["maincolor","meancolor","none","preview"]),rValidPath=/^\/*(.+?)\/*$/,rValidRatio=trimRegExpFactory("(\\d+(?:\\.\\d+)?)(?:\\s*[\\/:]\\s*(\\d+(?:\\.\\d+)?))?|(none)"),rValidEnvironment=trimRegExpFactory(["debug","offline","production"]),rValidZoom=trimRegExpFactory("(\\d+\\.?\\d*)|(css)",{regExpFlags:"i"}),rMedia=/^((image|media|video):)?\/*/,trimOrUndefined=regExpFinderFactory(trimRegExpFactory("(?:.|\n)+?")),_a=trimRegExpFactory(".+?",{border:"[\\s\\/]"}),mappingBoolean={true:!0,false:!1,"":!0},rBreakPoints=/(?:@(?<breakpoint>xs|sm|md|lg|xl|2xl|\d*)\s+)?(?<value>[^@]+)/gm,rAnchor=/\b(?:(left|right)|(bottom|top))\b/g,parseAnchors=parseBreakpointsFactory(parseAnchor),parseClassName=trimOrUndefined,parseDuration=parseNumber,parseEager=parseBoolean,parseEnv=(regExpFinderFactory(w),regExpFinderFactory(rValidEnvironment)),parseFocuses=parseBreakpointsFactory(parseFocus),parseFrom=parseNumber,parseMode=regExpFinderFactory(defaultConfig,{defaultValue:"cover"}),parseModes=parseBreakpointsFactory(parseMode),parsePosition=trimOrUndefined,parsePositions=parseBreakpointsFactory(parsePosition),parsePreTransform=regExpFinderFactory(_a,{filter:function(p){return p&&p.replace(/^\/*(.*[^/])\/*$/,"$1")}}),parseRatios=parseBreakpointsFactory(parseRatio,1),parseSizes=parseBreakpointsFactory(function(value){value=trimOrUndefined(value);return value&&value.replace(/\n\s*/g,"")}),parseStep=parseNumber,parseTo=parseNumber,mappingTransition={true:"fade",false:"none",fade:"fade",zoom:"zoom",none:"none"},parseTransitionDelay=trimOrUndefined,parseTransitionDuration=trimOrUndefined,parseTransitionTimingFunction=trimOrUndefined,computeRefit=function(anchor,mode,refit){return void 0!==refit&&("contain"===mode?"auto":"WxH")+(refit?"("+refit+")":"")+(anchor&&"contain"!==mode?"@"+anchor:"")},computePreTransform=function(_c){var _d=_c.anchor,x=_d.x,_d=_d.y,debug=_c.debug,focus=_c.focus,mode=_c.mode,preTransform=_c.preTransform,_c=_c.refit,_d=_d?x?_d+"-"+x:_d:x,x="contain"!==mode&&void 0===_c&&(focus||_d),focus=computeRefit(_d,mode,_c);return(debug?"/debug":"")+(preTransform?"/"+preTransform:"")+(x?"/focus="+x:"")+(focus?"/refit="+focus:"")},mappingPosition={img:"objectPosition",video:"objectPosition"},mappingMode={img:"objectFit",video:"objectFit"},PLACEHOLDER_DIM=1e3,elementToObserver=new WeakMap,mutationObserver=isBrowser&&"undefined"!=typeof MutationObserver&&new MutationObserver(function(records){var e_1,_a;try{for(var records_1=__values(records),records_1_1=records_1.next();!records_1_1.done;records_1_1=records_1.next()){var target=records_1_1.value.target,observer=elementToObserver.get(target);observer&&observer.handleState()}}catch(e_1_1){e_1={error:e_1_1}}finally{try{records_1_1&&!records_1_1.done&&(_a=records_1.return)&&_a.call(records_1)}finally{if(e_1)throw e_1.error}}}),resizeObserver=isBrowser&&"undefined"!=typeof ResizeObserver&&new ResizeObserver(function(records){var e_2,_a;try{for(var records_2=__values(records),records_2_1=records_2.next();!records_2_1.done;records_2_1=records_2.next()){var target=records_2_1.value.target,observer=elementToObserver.get(target);observer&&observer.refreshBackground()}}catch(e_2_1){e_2={error:e_2_1}}finally{try{records_2_1&&!records_2_1.done&&(_a=records_2.return)&&_a.call(records_2)}finally{if(e_2)throw e_2.error}}}),rTwicClasses=new RegExp("(?:\\s*)(?:"+config.class+"(?:-background)*-)(done|error|loading)"),Observer=function(stateHandler){var fn,options,timer,_options,_this=this;void 0===stateHandler&&(stateHandler=void 0),this.handleState=function(){var state,className;_this.stateHandler&&(state="new",className=_this.media.className,(className=rTwicClasses.exec(className))&&(state=__read(className,2)[1]),_this.stateHandler(state))},this.refreshBackground=(fn=function(){var placeHolderElement,element,_c,width,anchor,focus,mode,placeholder,preTransform,src,ratio,refit,transitions;_this.media&&_this.placeholderData&&(placeHolderElement=_this.media.nextElementSibling,element=placeHolderElement,_c=_this.placeholderData,anchor=_c.anchor,focus=_c.focus,mode=_c.mode,placeholder=_c.placeholder,preTransform=_c.preTransform,src=_c.src,ratio=_c.ratio,refit=_c.refit,transitions=_c.transitions,_c=_c.videoOptions,anchor=config.domain&&element&&placeholder&&!transitions.hasOwnProperty("zoom")?(transitions=getComputedStyle(element),element=mode||parseMode(transitions.backgroundSize),ratio=0===ratio?"contain"===element?1:cssWithoutPx(transitions.height)/Math.max(1,cssWithoutPx(transitions.width)):null!=ratio?ratio:cssWithoutPx(transitions.fontSize),width=transitions=PLACEHOLDER_DIM,ratio<1?transitions*=ratio:width/=ratio,ratio=(_c||{}).videoTransform,_c=""+computePreTransform({anchor:anchor,focus:focus,mode:mode,preTransform:preTransform,refit:refit})+(ratio||"")+(finalTransform(element,refit)||""),createUrl({context:{height:Math.max(1,Math.round(transitions)),mode:element,width:Math.max(1,Math.round(width))},domain:config.domain,transform:_c,src:src,output:placeholder})):"")&&anchor!==_this.savedWrapperBackground&&(_this.savedWrapperBackground=anchor,placeHolderElement.style.backgroundImage="url("+JSON.stringify(anchor)+")")},options={ms:100},_options=Object.assign({leading:!0,ms:0,trailing:!0},options),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];!timer&&_options.leading&&fn.apply(void 0,__spreadArray([],__read(args))),clearTimeout(timer),timer=setTimeout(function(){timer=void 0,_options.trailing&&fn.apply(void 0,__spreadArray([],__read(args)))},_options.ms)}),this.setMedia=function(media){media&&(config.handleShadowDom(media),_this.media=media,elementToObserver.set(_this.media,_this),mutationObserver&&(mutationObserver.observe(_this.media,{attributes:!0,attributeFilter:["class"]}),_this.handleState()),resizeObserver)&&resizeObserver.observe(_this.media)},this.setPlaceholderData=function(data){_this.placeholderData=data,_this.media&&_this.refreshBackground()},this.destroy=function(){_this.media&&_this.media&&resizeObserver&&resizeObserver.unobserve(_this.media)},this.stateHandler=stateHandler},e_1=function(){function TwicMediaComponent(renderer){var _this=this;this.renderer=renderer,this.alt=void 0,this.anchor=void 0,this.bot=void 0,this.className=void 0,this.focus=void 0,this.intrinsic=void 0,this.mode=void 0,this.mediaTag=void 0,this.placeholder=void 0,this.position=void 0,this.preTransform=void 0,this.ratio=void 0,this.step=void 0,this.title=void 0,this.transitionDelay=void 0,this.transitionDuration=void 0,this.transitionTimingFunction=void 0,this.videoOptions=void 0,this.stateChangeEvent=new i0.EventEmitter,this._alt=void 0,this._anchor=void 0,this._bot=void 0,this._className=void 0,this._focus=void 0,this._intrinsic=void 0,this._mediaTag=void 0,this._mode=void 0,this._placeholder=void 0,this._position=void 0,this._preTransform=void 0,this._ratio=void 0,this._refit=void 0,this._step=void 0,this._title=void 0,this._transitionDelay=void 0,this._transitionDuration=void 0,this._transitionTimingFunct=void 0,this._placeholder_=void 0,this.observer=new Observer(function(state){_this.stateChangeEvent.emit({target:_this,state:state})})}return TwicMediaComponent.prototype.ngAfterViewInit=function(){this._media=this.renderer.createElement(this._mediaTag),this._placeholder_?this.renderer.insertBefore(this.containerRef.nativeElement,this._media,this.placeholderRef.nativeElement):this.renderer.appendChild(this.containerRef.nativeElement,this._media),this.observer.setMedia(this._media),this.updateMedia()},TwicMediaComponent.prototype.ngOnChanges=function(){var value,src;this._alt=parseAlt(this.alt),this._anchor=parseAnchor(this.anchor),this._bot="string"==typeof(value=this.bot)?value.trim():void 0,this._className=parseClassName(this.className),this._focus=parseFocus(this.focus),this._intrinsic=function(value){var parsedIntrinsic;if(value)return(value=rValidIntrinsic.exec(value))?(value=__read(value,4))[2]+"x"+value[3]:parsedIntrinsic}(this.intrinsic),this._mediaTag=function(value){value=trimOrUndefined(value);return value&&value.toLocaleLowerCase()}(this.mediaTag)||"img",this._mode=parseMode(this.mode),this._eager=parseEager(this.eager),this._placeholder=function(placeholder){if("offline"!==config.env&&"none"!==placeholder)return rValidPlaceholder.test(placeholder)?placeholder:"preview"}(this.placeholder),this._position=parsePosition(this.position),this._preTransform=parsePreTransform(this.preTransform),this._ratio=parseRatio(this.ratio),this._refit=parseRefit(this.refit),this._src=parseSrc(this.src),this._step=parseStep(this.step),this._title=parseTitle(this.title),this._transition=function(value){"boolean"!=typeof value&&(value=trimOrUndefined(value)||!0);var parsedTransition={};return String(value).split(/\s*\+\s*|\s+/).forEach(function(t){return parsedTransition[""+(mappingTransition[t]||"fade")]=!0}),parsedTransition}(this.transition),this._transitionDelay=parseTransitionDelay(this.transitionDelay),this._transitionDuration=parseTransitionDuration(this.transitionDuration),this._transitionTimingFunct=parseTransitionTimingFunction(this.transitionTimingFunction),this._placeholder_=(value=this._placeholder,src=this._src,urlInfos(src,config.domain).isSpecial?void 0:value),this.description=computeAlt(this._alt,this._mediaTag),this.mediaAttributes=Object.assign({},function(anchor,bot,eager,focus,intrinsic,mediaTag,mode,preTransform,refit,src,step,videoOptions){var attributes={},videoOptions=videoOptions||{},videoTransform=videoOptions.videoTransform,videoOptions=videoOptions.posterTransform,anchor=computePreTransform({anchor:anchor,debug:"debug"===config.env,focus:focus,mode:mode,preTransform:preTransform,refit:refit});return(anchor||videoTransform)&&(attributes[getDataAttributeName("transform")]=""+anchor+(videoTransform||"")+(finalTransform(mode,refit)||"")),"string"==typeof bot&&(attributes[getDataAttributeName("bot")]=bot||"/"),eager&&(attributes[getDataAttributeName("eager")]=""),intrinsic&&(attributes[getDataAttributeName("intrinsic")]=intrinsic),src&&("img"===mediaTag||"video"===mediaTag?attributes[getDataAttributeName("src")]=src:attributes[getDataAttributeName("background")]="url("+src+")"),src&&"video"===mediaTag&&(attributes[getDataAttributeName("poster")]=src,attributes[getDataAttributeName("poster-transform")]=""+anchor+(videoOptions||"")+"/*/output=image"),void 0!==step&&(attributes[getDataAttributeName("step")]=String(step)),attributes}(this._anchor,this._bot,this._eager,this._focus,this._intrinsic,this._mediaTag,this._mode,this._preTransform,this._refit,this._src,this._step,this.videoOptions)),this.mediaStyle=function(anchor,mediaTag,mode,position,transitionDelay,transitionDuration,transitionTimingFunction){transitionDelay=preComputeStyle(transitionDelay,transitionDuration,transitionTimingFunction),transitionDuration=computePosition(anchor,mode,position);return transitionDuration&&(transitionDelay[mappingPosition[mediaTag]||"backgroundPosition"]=transitionDuration),mode&&(transitionDelay[mappingMode[mediaTag]||"backgroundSize"]=mode),transitionDelay}(this._anchor,this._mediaTag,this._mode,this._position,this._transitionDelay,this._transitionDuration,this._transitionTimingFunct),this.placeholderStyle=function(anchor,focus,mode,placeholder,position,preTransform,ratio,refit,src,transitions,transitionDelay,transitionDuration,transitionTimingFunction,videoOptions,placeholderDataHandler){transitionDelay=preComputeStyle(transitionDelay,transitionDuration,transitionTimingFunction),placeholderDataHandler({anchor:anchor,focus:focus,mode:mode,placeholder:placeholder,preTransform:preTransform,ratio:ratio,refit:refit,src:src,transitions:transitions,videoOptions:videoOptions}),mode&&(transitionDelay.backgroundSize=mode),transitionDuration=computePosition(anchor,mode,position);return transitionDuration&&(transitionDelay.backgroundPosition=transitionDuration),transitionDelay}(this._anchor,this._focus,this._mode,this._placeholder_,this._position,this._preTransform,this._ratio,this._refit,this._src,this._transition,this._transitionDelay,this._transitionDuration,this._transitionTimingFunct,this.videoOptions,this.observer.setPlaceholderData),this.wrapperClass=function(className,src,transitions){var wrapperClass=["twic-w"];return className&&wrapperClass.push(className),transitions.hasOwnProperty("none")||(transitions.hasOwnProperty("fade")&&wrapperClass.push("twic-tf"),transitions.hasOwnProperty("zoom")&&wrapperClass.push("twic-tz")),"offline"===config.env&&(wrapperClass.push("twic-offline"),src||wrapperClass.push("twic-nosrc")),wrapperClass.join(" ")}(this._className,this.src,this._transition),this.wrapperStyle=0===(src=this._ratio)?{height:"100%",paddingTop:"0"}:{paddingTop:void 0===src?"":100*src+"%"},this.updateMedia()},TwicMediaComponent.prototype.ngOnDestroy=function(){this.observer.destroy()},TwicMediaComponent.prototype.updateMedia=function(){this._media&&(this.mediaAttributes.alt=this.description,attributes(this.mediaAttributes,this._media,this.renderer),styles(this.mediaStyle,this._media,this.renderer))},TwicMediaComponent}(),w=(e_1.ɵfac=i0__namespace.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:e_1,deps:[{token:i0__namespace.Renderer2}],target:i0__namespace.ɵɵFactoryTarget.Component}),e_1.ɵcmp=i0__namespace.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"12.2.0",type:e_1,selector:"TwicMedia",inputs:{alt:"alt",anchor:"anchor",bot:"bot",className:"className",focus:"focus",intrinsic:"intrinsic",mode:"mode",mediaTag:"mediaTag",eager:"eager",placeholder:"placeholder",position:"position",preTransform:"preTransform",ratio:"ratio",refit:"refit",src:"src",step:"step",title:"title",transition:"transition",transitionDelay:"transitionDelay",transitionDuration:"transitionDuration",transitionTimingFunction:"transitionTimingFunction",videoOptions:"videoOptions"},outputs:{stateChangeEvent:"stateChangeEvent"},host:{attributes:{ngSkipHydration:"true"}},viewQueries:[{propertyName:"containerRef",first:!0,predicate:["container"],descendants:!0,static:!0},{propertyName:"placeholderRef",first:!0,predicate:["placeholderElement"],descendants:!0}],usesOnChanges:!0,ngImport:i0__namespace,template:'\n        <div\n            #container\n            [ngClass]="wrapperClass"\n            [ngStyle]="wrapperStyle"\n            [attr.title]="_title"\n        >\n            <div\n                *ngIf="_placeholder_"\n                #placeholderElement\n                [ngStyle]="placeholderStyle"\n            ></div>\n        </div>\n    ',isInline:!0,styles:['.twic-i{overflow:hidden}.twic-w,.twic-w *{border:none;margin:0;overflow:hidden;padding:0}.twic-w{overflow:hidden;position:relative;width:100%;padding-top:calc(100% / 1);padding-top:calc(100% / var( --twic-ratio, 1 ))}.twic-w>*{display:block;height:100%;left:0;position:absolute;top:0;width:100%;transition-property:opacity,transform;will-change:opacity,transform;-o-object-fit:cover;object-fit:cover;-o-object-fit:var( --twic-mode,cover );object-fit:var( --twic-mode,cover );-o-object-position:center;object-position:center;-o-object-position:var( --twic-position,center );object-position:var( --twic-position,center );transition-delay:0s;transition-delay:var( --twic-transition-delay,0s );transition-duration:.4s;transition-duration:var( --twic-transition-duration,.4s );transition-timing-function:ease;transition-timing-function:var( --twic-transition-timing-function,ease )}.twic-w>*,.twic-w>div{background-size:cover;background-position:50%;background-repeat:no-repeat}.twic-w>div{background-size:var( --twic-mode,cover );background-position:var( --twic-position,center );font-size:calc(1px / 1);font-size:calc(1px / var( --twic-ratio, 1 ))}.twic-w>img:not([src]),.twic-w>img[src=""]{visibility:hidden}.twic-w.twic-tz>img{transform:scale(0)}.twic-w.twic-tf>div{opacity:1}.twic-d{display:block}.twic-offline{background-color:#ccc}.twic-offline.twic-nosrc{background-color:#fd0016}.twic-offline>*{display:none}:root{--twic-zoom:0}.twic-z{position:relative}.twic-m{left:0;position:absolute;top:0;z-index:1}.twic-m>*{display:none;transition:none;width:calc(max(0, 1) * 100%);width:calc(max(var( --twic-zoom ), 1) * 100%);height:calc(max(0, 1) * 100%);height:calc(max(var( --twic-zoom ), 1) * 100%);transform:translate3d(calc((1 - max(0, 1)) * 0 * 1px),calc((1 - max(0, 1)) * 0 * 1px),0);transform:translate3d(calc((1 - max(var( --twic-zoom ), 1)) * var( --twic-xr, 0) * 1px),calc((1 - max(var( --twic-zoom ), 1)) * var( --twic-yr, 0) * 1px),0)}.twic-m:hover>*{display:block}.twic-m:hover+div,twicmedia:hover+twicmedia{opacity:0}.twic-p{border:none;margin:0;overflow:hidden;padding:0}.twic-p>img{display:block;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;width:100%;height:100%}'],directives:[{type:i1__namespace.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{type:i1__namespace.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]},{type:i1__namespace.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]}],changeDetection:i0__namespace.ChangeDetectionStrategy.OnPush,encapsulation:i0__namespace.ViewEncapsulation.None}),i0__namespace.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:e_1,decorators:[{type:i0.Component,args:[{selector:"TwicMedia",template:'\n        <div\n            #container\n            [ngClass]="wrapperClass"\n            [ngStyle]="wrapperStyle"\n            [attr.title]="_title"\n        >\n            <div\n                *ngIf="_placeholder_"\n                #placeholderElement\n                [ngStyle]="placeholderStyle"\n            ></div>\n        </div>\n    ',styleUrls:["./_/style.css"],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None,host:{ngSkipHydration:"true"}}]}],ctorParameters:function(){return[{type:i0__namespace.Renderer2}]},propDecorators:{alt:[{type:i0.Input}],anchor:[{type:i0.Input}],bot:[{type:i0.Input}],className:[{type:i0.Input}],focus:[{type:i0.Input}],intrinsic:[{type:i0.Input}],mode:[{type:i0.Input}],mediaTag:[{type:i0.Input}],eager:[{type:i0.Input}],placeholder:[{type:i0.Input}],position:[{type:i0.Input}],preTransform:[{type:i0.Input}],ratio:[{type:i0.Input}],refit:[{type:i0.Input}],src:[{type:i0.Input}],step:[{type:i0.Input}],title:[{type:i0.Input}],transition:[{type:i0.Input}],transitionDelay:[{type:i0.Input}],transitionDuration:[{type:i0.Input}],transitionTimingFunction:[{type:i0.Input}],videoOptions:[{type:i0.Input}],stateChangeEvent:[{type:i0.Output}],containerRef:[{type:i0.ViewChild,args:["container",{static:!0}]}],placeholderRef:[{type:i0.ViewChild,args:["placeholderElement",{static:!1}]}]}}),function(){function TwicBackgroundComponent(){this.anchor=void 0,this.bot=void 0,this.focus=void 0,this.intrinsic=void 0,this.mediaTag="div",this.mode=void 0,this.placeholder=void 0,this.position=void 0,this.preTransform=void 0,this.ratio=void 0,this.step=void 0,this.transitionDelay=void 0,this.transitionDuration=void 0,this.transitionTimingFunction=void 0,this.stateChangeEvent=new i0.EventEmitter}return TwicBackgroundComponent.prototype.onStateChange=function(stateEvent){this.stateChangeEvent.emit(stateEvent)},TwicBackgroundComponent}()),ease=(w.ɵfac=i0__namespace.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:w,deps:[],target:i0__namespace.ɵɵFactoryTarget.Component}),w.ɵcmp=i0__namespace.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"12.2.0",type:w,selector:"TwicBackground",inputs:{anchor:"anchor",bot:"bot",focus:"focus",intrinsic:"intrinsic",mediaTag:"mediaTag",mode:"mode",eager:"eager",placeholder:"placeholder",position:"position",preTransform:"preTransform",ratio:"ratio",src:"src",step:"step",transition:"transition",transitionDelay:"transitionDelay",transitionDuration:"transitionDuration",transitionTimingFunction:"transitionTimingFunction"},outputs:{stateChangeEvent:"stateChangeEvent"},host:{classAttribute:"twic-i twic-d"},ngImport:i0__namespace,template:'\n        <TwicMedia\n            [anchor]="anchor"\n            [bot]="bot"\n            [focus]="focus"\n            [intrinsic]="intrinsic"\n            [mode]="mode"\n            [mediaTag]="mediaTag"\n            [eager]="eager"\n            [placeholder]="placeholder"\n            [position]="position"\n            [preTransform]="preTransform"\n            [ratio]="ratio"\n            [src]="src"\n            [step]="step"\n            [transition]="transition"\n            [transitionDelay]="transitionDelay"\n            [transitionDuration]="transitionDuration"\n            [transitionTimingFunction]="transitionTimingFunction"\n            (stateChangeEvent)="onStateChange($event)"\n        ></TwicMedia>\n    ',isInline:!0,components:[{type:e_1,selector:"TwicMedia",inputs:["alt","anchor","bot","className","focus","intrinsic","mode","mediaTag","eager","placeholder","position","preTransform","ratio","refit","src","step","title","transition","transitionDelay","transitionDuration","transitionTimingFunction","videoOptions"],outputs:["stateChangeEvent"]}],changeDetection:i0__namespace.ChangeDetectionStrategy.OnPush,encapsulation:i0__namespace.ViewEncapsulation.None}),i0__namespace.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:w,decorators:[{type:i0.Component,args:[{selector:"TwicBackground",template:'\n        <TwicMedia\n            [anchor]="anchor"\n            [bot]="bot"\n            [focus]="focus"\n            [intrinsic]="intrinsic"\n            [mode]="mode"\n            [mediaTag]="mediaTag"\n            [eager]="eager"\n            [placeholder]="placeholder"\n            [position]="position"\n            [preTransform]="preTransform"\n            [ratio]="ratio"\n            [src]="src"\n            [step]="step"\n            [transition]="transition"\n            [transitionDelay]="transitionDelay"\n            [transitionDuration]="transitionDuration"\n            [transitionTimingFunction]="transitionTimingFunction"\n            (stateChangeEvent)="onStateChange($event)"\n        ></TwicMedia>\n    ',changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None,host:{class:"twic-i twic-d"}}]}],propDecorators:{anchor:[{type:i0.Input}],bot:[{type:i0.Input}],focus:[{type:i0.Input}],intrinsic:[{type:i0.Input}],mediaTag:[{type:i0.Input}],mode:[{type:i0.Input}],eager:[{type:i0.Input}],placeholder:[{type:i0.Input}],position:[{type:i0.Input}],preTransform:[{type:i0.Input}],ratio:[{type:i0.Input}],src:[{type:i0.Input}],step:[{type:i0.Input}],transition:[{type:i0.Input}],transitionDelay:[{type:i0.Input}],transitionDuration:[{type:i0.Input}],transitionTimingFunction:[{type:i0.Input}],stateChangeEvent:[{type:i0.Output}]}}),function(t,d){return t<0||d<t?Math.min(Math.max(0,t),d):(t=2*t/d)<1?d/2*Math.pow(t,3):(t-=2,d/2*(Math.pow(t,3)+2))}),defaultConfig=function(){function TwicImgComponent(renderer,hostElement){this.renderer=renderer,this.hostElement=hostElement,this.mediaTag="img",this.alt=void 0,this.anchor=void 0,this.bot=void 0,this.focus=void 0,this.intrinsic=void 0,this.mode=void 0,this.placeholder=void 0,this.position=void 0,this.preTransform=void 0,this.ratio=void 0,this.step=void 0,this.title=void 0,this.transitionDelay=void 0,this.transitionDuration=void 0,this.transitionTimingFunction=void 0,this.zoom=void 0,this.stateChangeEvent=new i0.EventEmitter,this._zoom=!1}return Object.defineProperty(TwicImgComponent.prototype,"twicZoom",{get:function(){return this._zoom},enumerable:!1,configurable:!0}),TwicImgComponent.prototype.ngAfterViewInit=function(){var magnifierContainer;this._zoom&&((magnifierContainer=(magnifierContainer=this.hostElement.nativeElement.firstElementChild).firstElementChild).addEventListener("mousemove",move),magnifierContainer.addEventListener("touchmove",move)),this.updateTemplate()},TwicImgComponent.prototype.onStateChange=function(stateEvent){this.stateChangeEvent.emit(stateEvent)},TwicImgComponent.prototype.ngOnChanges=function(){var zoom,magnifierStyle;this._zoom=function(value){if("string"==typeof value){var parsed=rValidZoom.exec(value);if(parsed&&parsed[3])return!0;value=parsed&&parsed[2]?Number(parsed[2]):void 0}return isPositiveNumber(value)&&1<value?value:void 0}(this.zoom),this.magnifierStyle=(zoom=this._zoom,magnifierStyle={},"boolean"!=typeof zoom&&zoom&&(magnifierStyle["--twic-zoom"]=""+zoom),magnifierStyle),this.updateTemplate()},TwicImgComponent.prototype.updateTemplate=function(){var _a;null!=(_a=this.hostElement)&&_a.nativeElement&&styles(this.magnifierStyle,this.hostElement.nativeElement,this.renderer)},TwicImgComponent}(),_a=(defaultConfig.ɵfac=i0__namespace.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:defaultConfig,deps:[{token:i0__namespace.Renderer2},{token:i0__namespace.ElementRef}],target:i0__namespace.ɵɵFactoryTarget.Component}),defaultConfig.ɵcmp=i0__namespace.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"12.2.0",type:defaultConfig,selector:"TwicImg",inputs:{alt:"alt",anchor:"anchor",bot:"bot",focus:"focus",intrinsic:"intrinsic",mode:"mode",eager:"eager",placeholder:"placeholder",position:"position",preTransform:"preTransform",ratio:"ratio",refit:"refit",src:"src",step:"step",title:"title",transition:"transition",transitionDelay:"transitionDelay",transitionDuration:"transitionDuration",transitionTimingFunction:"transitionTimingFunction",zoom:"zoom"},outputs:{stateChangeEvent:"stateChangeEvent"},host:{properties:{"class.twic-z":"this.twicZoom"},classAttribute:"twic-i twic-d"},usesOnChanges:!0,ngImport:i0__namespace,template:'\n        <TwicMedia\n            *ngIf="_zoom"\n            [anchor]="anchor"\n            [bot]="bot"\n            className="twic-m"\n            [focus]="focus"\n            [intrinsic]="intrinsic"\n            mode="cover"\n            [eager]="eager"\n            mediaTag="div"\n            [placeholder]="placeholder"\n            [position]="position"\n            [preTransform]="preTransform"\n            [ratio]="ratio"\n            [refit]="refit"\n            [src]="src"\n            [step]="step"\n            [title]="title"\n            [transition]="transition"\n            [transitionDelay]="transitionDelay"\n            [transitionDuration]="transitionDuration"\n            [transitionTimingFunction]="transitionTimingFunction"\n            [ngStyle]="magnifierStyle"\n        ></TwicMedia>\n        <TwicMedia\n            [alt]="alt"\n            [anchor]="anchor"\n            [bot]="bot"\n            [focus]="focus"\n            [intrinsic]="intrinsic"\n            [mode]="mode"\n            [mediaTag]="mediaTag"\n            [eager]="eager"\n            [placeholder]="placeholder"\n            [position]="position"\n            [preTransform]="preTransform"\n            [ratio]="ratio"\n            [refit]="refit"\n            [src]="src"\n            [step]="step"\n            [title]="title"\n            [transition]="transition"\n            [transitionDelay]="transitionDelay"\n            [transitionDuration]="transitionDuration"\n            [transitionTimingFunction]="transitionTimingFunction"\n            (stateChangeEvent)="onStateChange($event)"\n        ></TwicMedia>\n    ',isInline:!0,components:[{type:e_1,selector:"TwicMedia",inputs:["alt","anchor","bot","className","focus","intrinsic","mode","mediaTag","eager","placeholder","position","preTransform","ratio","refit","src","step","title","transition","transitionDelay","transitionDuration","transitionTimingFunction","videoOptions"],outputs:["stateChangeEvent"]}],directives:[{type:i1__namespace.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:i1__namespace.NgStyle,selector:"[ngStyle]",inputs:["ngStyle"]}],changeDetection:i0__namespace.ChangeDetectionStrategy.OnPush,encapsulation:i0__namespace.ViewEncapsulation.None}),i0__namespace.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:defaultConfig,decorators:[{type:i0.Component,args:[{selector:"TwicImg",template:'\n        <TwicMedia\n            *ngIf="_zoom"\n            [anchor]="anchor"\n            [bot]="bot"\n            className="twic-m"\n            [focus]="focus"\n            [intrinsic]="intrinsic"\n            mode="cover"\n            [eager]="eager"\n            mediaTag="div"\n            [placeholder]="placeholder"\n            [position]="position"\n            [preTransform]="preTransform"\n            [ratio]="ratio"\n            [refit]="refit"\n            [src]="src"\n            [step]="step"\n            [title]="title"\n            [transition]="transition"\n            [transitionDelay]="transitionDelay"\n            [transitionDuration]="transitionDuration"\n            [transitionTimingFunction]="transitionTimingFunction"\n            [ngStyle]="magnifierStyle"\n        ></TwicMedia>\n        <TwicMedia\n            [alt]="alt"\n            [anchor]="anchor"\n            [bot]="bot"\n            [focus]="focus"\n            [intrinsic]="intrinsic"\n            [mode]="mode"\n            [mediaTag]="mediaTag"\n            [eager]="eager"\n            [placeholder]="placeholder"\n            [position]="position"\n            [preTransform]="preTransform"\n            [ratio]="ratio"\n            [refit]="refit"\n            [src]="src"\n            [step]="step"\n            [title]="title"\n            [transition]="transition"\n            [transitionDelay]="transitionDelay"\n            [transitionDuration]="transitionDuration"\n            [transitionTimingFunction]="transitionTimingFunction"\n            (stateChangeEvent)="onStateChange($event)"\n        ></TwicMedia>\n    ',changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None,host:{class:"twic-i twic-d"}}]}],ctorParameters:function(){return[{type:i0__namespace.Renderer2},{type:i0__namespace.ElementRef}]},propDecorators:{alt:[{type:i0.Input}],anchor:[{type:i0.Input}],bot:[{type:i0.Input}],focus:[{type:i0.Input}],intrinsic:[{type:i0.Input}],mode:[{type:i0.Input}],eager:[{type:i0.Input}],placeholder:[{type:i0.Input}],position:[{type:i0.Input}],preTransform:[{type:i0.Input}],ratio:[{type:i0.Input}],refit:[{type:i0.Input}],src:[{type:i0.Input}],step:[{type:i0.Input}],title:[{type:i0.Input}],transition:[{type:i0.Input}],transitionDelay:[{type:i0.Input}],transitionDuration:[{type:i0.Input}],transitionTimingFunction:[{type:i0.Input}],zoom:[{type:i0.Input}],stateChangeEvent:[{type:i0.Output}],twicZoom:[{type:i0.HostBinding,args:["class.twic-z"]}]}}),function(){function TwicPictureComponent(renderer){this.renderer=renderer,this.alt=void 0,this.anchor=void 0,this.fetchpriority=void 0,this.focus=void 0,this.mode=void 0,this.position=void 0,this.preTransform=void 0,this.ratio=void 0,this.title=void 0,this._alt=void 0,this._anchors=void 0,this._fetchpriority=void 0,this._focuses=void 0,this._modes=void 0,this._positions=void 0,this._preTransform=void 0,this._ratios=void 0,this._refit=void 0,this._sizes=void 0,this._sources=[],this._title=void 0}return TwicPictureComponent.prototype.ngAfterViewInit=function(){var _a,_this=this;null!=(_a=this.pictureData)&&_a.sources&&(this._sources=this.pictureData.sources.map(function(_){var _source=_this.renderer.createElement("source");return _this.renderer.insertBefore(_this.containerRef.nativeElement,_source,_this.imageRef.nativeElement),_source})),this.updateMedia()},TwicPictureComponent.prototype.ngOnChanges=function(){this._alt=parseAlt(this.alt),this._anchors=parseAnchors(this.anchor),this._focuses=parseFocuses(this.focus),this._modes=parseModes(this.mode),this._eager=parseEager(this.eager),this._positions=parsePositions(this.position),this._preTransform=parsePreTransform(this.preTransform),this._ratios=parseRatios(this.ratio),this._refit=parseRefit(this.refit),this._sizes=parseSizes(this.sizes),this._src=parseSrc(this.src),this._title=parseTitle(this.title),this.description=computeAlt(this._alt,"img"),this.pictureData=Object.assign({},computePicture(this._anchors,this._eager,this._fetchpriority,this._focuses,this._modes,this._positions,this._preTransform,this._ratios,this._refit,this._sizes,this._src)),this.updateMedia()},TwicPictureComponent.prototype.updateMedia=function(){var _a,_b,index;for(index in this.imageRef.nativeElement&&attributes(null==(_a=this.pictureData)?void 0:_a.img,this.imageRef.nativeElement,this.renderer),this._sources){var actualSourceElement=this._sources[index];attributes(null==(_b=this.pictureData)?void 0:_b.sources[index],actualSourceElement,this.renderer)}},TwicPictureComponent}()),i1__namespace=(_a.ɵfac=i0__namespace.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:_a,deps:[{token:i0__namespace.Renderer2}],target:i0__namespace.ɵɵFactoryTarget.Component}),_a.ɵcmp=i0__namespace.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"12.2.0",type:_a,selector:"TwicPicture",inputs:{alt:"alt",anchor:"anchor",eager:"eager",fetchpriority:"fetchpriority",focus:"focus",mode:"mode",position:"position",preTransform:"preTransform",ratio:"ratio",refit:"refit",sizes:"sizes",src:"src",title:"title"},host:{attributes:{ngSkipHydration:"true"}},viewQueries:[{propertyName:"containerRef",first:!0,predicate:["container"],descendants:!0,static:!0},{propertyName:"imageRef",first:!0,predicate:["image"],descendants:!0,static:!0}],usesOnChanges:!0,ngImport:i0__namespace,template:'\n      <picture\n          #container\n          class="twic-p"\n          [attr.title]="_title"\n      >\n        <img #image [attr.alt]="description"/>\n      </picture>\n  ',isInline:!0,styles:['.twic-i{overflow:hidden}.twic-w,.twic-w *{border:none;margin:0;overflow:hidden;padding:0}.twic-w{overflow:hidden;position:relative;width:100%;padding-top:calc(100% / 1);padding-top:calc(100% / var( --twic-ratio, 1 ))}.twic-w>*{display:block;height:100%;left:0;position:absolute;top:0;width:100%;transition-property:opacity,transform;will-change:opacity,transform;-o-object-fit:cover;object-fit:cover;-o-object-fit:var( --twic-mode,cover );object-fit:var( --twic-mode,cover );-o-object-position:center;object-position:center;-o-object-position:var( --twic-position,center );object-position:var( --twic-position,center );transition-delay:0s;transition-delay:var( --twic-transition-delay,0s );transition-duration:.4s;transition-duration:var( --twic-transition-duration,.4s );transition-timing-function:ease;transition-timing-function:var( --twic-transition-timing-function,ease )}.twic-w>*,.twic-w>div{background-size:cover;background-position:50%;background-repeat:no-repeat}.twic-w>div{background-size:var( --twic-mode,cover );background-position:var( --twic-position,center );font-size:calc(1px / 1);font-size:calc(1px / var( --twic-ratio, 1 ))}.twic-w>img:not([src]),.twic-w>img[src=""]{visibility:hidden}.twic-w.twic-tz>img{transform:scale(0)}.twic-w.twic-tf>div{opacity:1}.twic-d{display:block}.twic-offline{background-color:#ccc}.twic-offline.twic-nosrc{background-color:#fd0016}.twic-offline>*{display:none}:root{--twic-zoom:0}.twic-z{position:relative}.twic-m{left:0;position:absolute;top:0;z-index:1}.twic-m>*{display:none;transition:none;width:calc(max(0, 1) * 100%);width:calc(max(var( --twic-zoom ), 1) * 100%);height:calc(max(0, 1) * 100%);height:calc(max(var( --twic-zoom ), 1) * 100%);transform:translate3d(calc((1 - max(0, 1)) * 0 * 1px),calc((1 - max(0, 1)) * 0 * 1px),0);transform:translate3d(calc((1 - max(var( --twic-zoom ), 1)) * var( --twic-xr, 0) * 1px),calc((1 - max(var( --twic-zoom ), 1)) * var( --twic-yr, 0) * 1px),0)}.twic-m:hover>*{display:block}.twic-m:hover+div,twicmedia:hover+twicmedia{opacity:0}.twic-p{border:none;margin:0;overflow:hidden;padding:0}.twic-p>img{display:block;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;width:100%;height:100%}'],changeDetection:i0__namespace.ChangeDetectionStrategy.OnPush,encapsulation:i0__namespace.ViewEncapsulation.None}),i0__namespace.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:_a,decorators:[{type:i0.Component,args:[{selector:"TwicPicture",template:'\n      <picture\n          #container\n          class="twic-p"\n          [attr.title]="_title"\n      >\n        <img #image [attr.alt]="description"/>\n      </picture>\n  ',styleUrls:["./_/style.css"],changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None,host:{ngSkipHydration:"true"}}]}],ctorParameters:function(){return[{type:i0__namespace.Renderer2}]},propDecorators:{alt:[{type:i0.Input}],anchor:[{type:i0.Input}],eager:[{type:i0.Input}],fetchpriority:[{type:i0.Input}],focus:[{type:i0.Input}],mode:[{type:i0.Input}],position:[{type:i0.Input}],preTransform:[{type:i0.Input}],ratio:[{type:i0.Input}],refit:[{type:i0.Input}],sizes:[{type:i0.Input}],src:[{type:i0.Input}],title:[{type:i0.Input}],containerRef:[{type:i0.ViewChild,args:["container",{static:!0}]}],imageRef:[{type:i0.ViewChild,args:["image",{static:!0}]}]}}),function(){function TwicVideoComponent(){this.mediaTag="video",this.anchor=void 0,this.bot=void 0,this.duration=void 0,this.focus=void 0,this.from=void 0,this.intrinsic=void 0,this.mode=void 0,this.placeholder=void 0,this.position=void 0,this.posterFrom=void 0,this.preTransform=void 0,this.ratio=void 0,this.step=void 0,this.title=void 0,this.to=void 0,this.transitionDelay=void 0,this.transitionDuration=void 0,this.transitionTimingFunction=void 0,this.stateChangeEvent=new i0.EventEmitter}return TwicVideoComponent.prototype.ngOnChanges=function(){var duration,from,posterFrom,to;this._duration=parseDuration(this.duration),this._from=parseFrom(this.from),this._posterFrom=parseDuration(this.posterFrom),this._to=parseTo(this.to),this.videoOption=(duration=this._duration,from=this._from,posterFrom=this._posterFrom,to=this._to,{videoTransform:(from?"/from="+from:"")+(to?"/to="+to:"")+(duration?"/duration="+duration:""),posterTransform:posterFrom||from?"/from="+(void 0===posterFrom?from:posterFrom):""})},TwicVideoComponent.prototype.onStateChange=function(stateEvent){this.stateChangeEvent.emit(stateEvent)},TwicVideoComponent}()),TwicViewComponent=(i1__namespace.ɵfac=i0__namespace.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:i1__namespace,deps:[],target:i0__namespace.ɵɵFactoryTarget.Component}),i1__namespace.ɵcmp=i0__namespace.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"12.2.0",type:i1__namespace,selector:"TwicVideo",inputs:{anchor:"anchor",bot:"bot",duration:"duration",focus:"focus",from:"from",intrinsic:"intrinsic",mode:"mode",eager:"eager",placeholder:"placeholder",position:"position",posterFrom:"posterFrom",preTransform:"preTransform",ratio:"ratio",src:"src",step:"step",title:"title",to:"to",transition:"transition",transitionDelay:"transitionDelay",transitionDuration:"transitionDuration",transitionTimingFunction:"transitionTimingFunction"},outputs:{stateChangeEvent:"stateChangeEvent"},host:{classAttribute:"twic-i twic-d"},usesOnChanges:!0,ngImport:i0__namespace,template:'\n        <TwicMedia\n            [anchor]="anchor"\n            [bot]="bot"\n            [focus]="focus"\n            [intrinsic]="intrinsic"\n            [mode]="mode"\n            [mediaTag]="mediaTag"\n            [eager]="eager"\n            [placeholder]="placeholder"\n            [position]="position"\n            [preTransform]="preTransform"\n            [ratio]="ratio"\n            [src]="src"\n            [step]="step"\n            [title]="title"\n            [transition]="transition"\n            [transitionDelay]="transitionDelay"\n            [transitionDuration]="transitionDuration"\n            [transitionTimingFunction]="transitionTimingFunction"\n            [videoOptions]="videoOption"\n            (stateChangeEvent)="onStateChange($event)"\n        ></TwicMedia>\n    ',isInline:!0,components:[{type:e_1,selector:"TwicMedia",inputs:["alt","anchor","bot","className","focus","intrinsic","mode","mediaTag","eager","placeholder","position","preTransform","ratio","refit","src","step","title","transition","transitionDelay","transitionDuration","transitionTimingFunction","videoOptions"],outputs:["stateChangeEvent"]}],changeDetection:i0__namespace.ChangeDetectionStrategy.OnPush,encapsulation:i0__namespace.ViewEncapsulation.None}),i0__namespace.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:i1__namespace,decorators:[{type:i0.Component,args:[{selector:"TwicVideo",template:'\n        <TwicMedia\n            [anchor]="anchor"\n            [bot]="bot"\n            [focus]="focus"\n            [intrinsic]="intrinsic"\n            [mode]="mode"\n            [mediaTag]="mediaTag"\n            [eager]="eager"\n            [placeholder]="placeholder"\n            [position]="position"\n            [preTransform]="preTransform"\n            [ratio]="ratio"\n            [src]="src"\n            [step]="step"\n            [title]="title"\n            [transition]="transition"\n            [transitionDelay]="transitionDelay"\n            [transitionDuration]="transitionDuration"\n            [transitionTimingFunction]="transitionTimingFunction"\n            [videoOptions]="videoOption"\n            (stateChangeEvent)="onStateChange($event)"\n        ></TwicMedia>\n    ',changeDetection:i0.ChangeDetectionStrategy.OnPush,encapsulation:i0.ViewEncapsulation.None,host:{class:"twic-i twic-d"}}]}],propDecorators:{anchor:[{type:i0.Input}],bot:[{type:i0.Input}],duration:[{type:i0.Input}],focus:[{type:i0.Input}],from:[{type:i0.Input}],intrinsic:[{type:i0.Input}],mode:[{type:i0.Input}],eager:[{type:i0.Input}],placeholder:[{type:i0.Input}],position:[{type:i0.Input}],posterFrom:[{type:i0.Input}],preTransform:[{type:i0.Input}],ratio:[{type:i0.Input}],src:[{type:i0.Input}],step:[{type:i0.Input}],title:[{type:i0.Input}],to:[{type:i0.Input}],transition:[{type:i0.Input}],transitionDelay:[{type:i0.Input}],transitionDuration:[{type:i0.Input}],transitionTimingFunction:[{type:i0.Input}],stateChangeEvent:[{type:i0.Output}]}}),function(){function TwicViewComponent(renderer,elementRef){this.renderer=renderer,this.elementRef=elementRef}return TwicViewComponent.prototype.ngOnInit=function(){this.renderer.setAttribute(this.elementRef.nativeElement,getDataAttributeName("view"),"")},TwicViewComponent}()),TwicPicsComponentsModule=(TwicViewComponent.ɵfac=i0__namespace.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:TwicViewComponent,deps:[{token:i0__namespace.Renderer2},{token:i0__namespace.ElementRef}],target:i0__namespace.ɵɵFactoryTarget.Component}),TwicViewComponent.ɵcmp=i0__namespace.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"12.2.0",type:TwicViewComponent,selector:"TwicView",ngImport:i0__namespace,template:"<ng-content></ng-content>",isInline:!0}),i0__namespace.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:TwicViewComponent,decorators:[{type:i0.Component,args:[{selector:"TwicView",template:"<ng-content></ng-content>"}]}],ctorParameters:function(){return[{type:i0__namespace.Renderer2},{type:i0__namespace.ElementRef}]}}),function(){}),VERSION=(TwicPicsComponentsModule.ɵfac=i0__namespace.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:TwicPicsComponentsModule,deps:[],target:i0__namespace.ɵɵFactoryTarget.NgModule}),TwicPicsComponentsModule.ɵmod=i0__namespace.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:TwicPicsComponentsModule,declarations:[w,defaultConfig,e_1,_a,i1__namespace,TwicViewComponent],imports:[i1.CommonModule],exports:[w,defaultConfig,_a,i1__namespace,TwicViewComponent]}),TwicPicsComponentsModule.ɵinj=i0__namespace.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:TwicPicsComponentsModule,imports:[[i1.CommonModule]]}),i0__namespace.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.0",ngImport:i0__namespace,type:TwicPicsComponentsModule,decorators:[{type:i0.NgModule,args:[{declarations:[w,defaultConfig,e_1,_a,i1__namespace,TwicViewComponent],imports:[i1.CommonModule],exports:[w,defaultConfig,_a,i1__namespace,TwicViewComponent]}]}]}),"v1"),parametersMap=[["anticipation","anticipation"],["class","class"],["maxDPR","max-dpr"],["step","step"]],i1=installTwicPics;exports.TwicBackgroundComponent=w,exports.TwicImgComponent=defaultConfig,exports.TwicMediaComponent=e_1,exports.TwicPicsComponentsModule=TwicPicsComponentsModule,exports.TwicPictureComponent=_a,exports.TwicVideoComponent=i1__namespace,exports.TwicViewComponent=TwicViewComponent,exports.installTwicPics=installTwicPics,exports.installTwicpics=i1,Object.defineProperty(exports,"__esModule",{value:!0})});
//# sourceMappingURL=main.js.map