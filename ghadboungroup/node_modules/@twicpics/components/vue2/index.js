"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=t=>{if(!t)return;const{attributes:o,element:n,elementName:i,value:r}=t,s=n||document.createElement(i||"div");if(o&&s instanceof HTMLElement)for(const[e,t]of Object.entries(o))s.setAttribute(e,String(t));if(r)if("string"==typeof r)s.innerHTML=r;else for(const t of Array.isArray(r)?r:[r]){const o=e(t);o&&s.appendChild(o)}return s},t=/px$/,o=e=>Number(e.replace(t,"")),n="undefined"!=typeof document,i=()=>{},r=(e,{filter:t,defaultValue:o}={})=>n=>{let i;return n&&`${n}`.replace(e,((e,t)=>i=t)),(t?t(i):i)||o},s=e=>{throw new Error((e=>`twicpics-components ${e}`)(e))},a=(e,{border:t="\\s",regExpFlags:o}={})=>new RegExp(`^(?:${t})*(${Array.isArray(e)?e.join("|"):e})(?:${t})*$`,o),c={breakpoints:{xs:320,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},class:"twic",domain:void 0,env:"production",handleShadowDom:i,maxDPR:void 0,path:"",step:void 0},d=n&&window,l=n?d["~ TPCC"]||(d["~ TPCC"]=c):c,m=()=>`.twic-w>.${l.class}-background-done+div,.twic-w>.${l.class}-done+div,.twic-w>.${l.class}-poster-done+div{opacity:0 !important}.twic-w>.${l.class}-done,.twic-w>.${l.class}-poster-done{transform:none !important}`,p=e=>`data-${l.class}-${e}`,u=/^(?:(auth|placeholder|rel)|(image|media|video)|[^:]*):(\/*)((v[0-9]+(?=[/?]))?[^?]*(\?.*)?)$/,f=(e,t="")=>{const o=e&&u.exec(e);return{isAbsolute:e.slice(0,t.length+1)===`${t}/`,isSpecial:o&&void 0!==o[1]}},h=({domain:e,context:t,inspect:o,output:n,quality:i,src:r,transform:s})=>{const{isAbsolute:a}=f(r,e),c=a?`media:${r.slice(`${e}/`.length)}`:r,d=u.exec(c),l=d&&d[2],m=n?`/output=${n}`:"",p=l?d[4]:c,h=i?`/quality=${i}`:"",g=o?"/inspect":"",v=(({height:e,mode:t,width:o},n)=>{if(n&&(o||e)){const i=e||"-",r=o||"-";return n.replace(/(\/*\*)/g,`/${t}=${r}x${i}`).replace(/WxH/g,`${r}x${i}`)}return n})(t,s);return`${e}/${d&&(d[1]||d[5])?`v1${v}${m}${h}${g}/${l?`${d[2]}:${p}`:p}`:`${p}${d&&d[6]?"&":"?"}twic=v1${v}${m}${g}${h}`}`},g=(e,t)=>"cover"===e&&void 0!==t?"":"/*",v=["center"];for(const e of["","bottom","top"])for(const t of["","left","right"])(t||e)&&v.push(e?t?`${e}-${t}`:e:t);const $=/\?|^\/*$/,b=a(v),w=/(^https?:\/\/[^/]+)\/*$/,y=a(["high","low","auto"]),_=a("\\s*(\\d+)\\s*[x]\\s*(\\d+)\\s*"),T=a(["contain","cover"]),S=a(["maincolor","meancolor","none","preview"]),x=/^\/*(.+?)\/*$/,O=a("(\\d+(?:\\.\\d+)?)(?:\\s*[\\/:]\\s*(\\d+(?:\\.\\d+)?))?|(none)"),k=a(["debug","offline","production"]),j=a("(\\d+\\.?\\d*)|(css)",{regExpFlags:"i"}),C=e=>!isNaN(e)&&e>0,N=/^((image|media|video):)?\/*/,M=r(a("(?:.|\n)+?")),D=a(".+?",{border:"[\\s\\/]"}),E={true:!0,false:!1,"":!0},P=e=>"boolean"==typeof e?e:void 0!==e&&E[e.trim()],z=/(?:@(?<breakpoint>xs|sm|md|lg|xl|2xl|\d*)\s+)?(?<value>[^@]+)/gm,R=(e,t)=>o=>{const n={0:e(t)},i=M((o||"").toString());if(i){let o;for(;null!==(o=z.exec(i));){const{breakpoint:i,value:r}=o.groups||{},s=Number(i||"0");n[isNaN(s)?l.breakpoints[i]:s]=e(r?r.replace(/\s*,\s*$/g,""):t)}}return n},A=e=>{if("number"!=typeof e){const t=M(e);e=t&&Number(t)}return C(e)?e:void 0},F=/\b(?:(left|right)|(bottom|top))\b/g,B=e=>{const t=M(e);let o,n;if(t){let e;for(;e=F.exec(t);)e[1]?o=e[1]:n=e[2]}return{x:o,y:n}},L=R(B),V=e=>M(e)||"",H=e=>"string"==typeof e?e.trim():void 0,W=e=>{const t=M(e);return w.test(t)?t.replace(w,"$1"):void 0},I=A,q=P,Y=r(y),J=r(k),X=e=>{const t=M(e);return"none"===t?void 0:t},G=R(X),K=A,Q=e=>{if(!e)return;let t;const o=_.exec(e);if(o){const[,,e,n]=o;t=`${e}x${n}`}return t},U=e=>{const t=M(e);return t&&t.toLocaleLowerCase()},Z=r(T,{defaultValue:"cover"}),ee=R(Z),te=e=>{const t=M(e);return t?t.replace(x,"$1/"):""},oe=e=>{if("offline"!==l.env&&"none"!==e)return S.test(e)?e:"preview"},ne=M,ie=R(ne),re=r(D,{filter:e=>e&&e.replace(/^\/*(.*[^/])\/*$/,"$1")}),se=e=>{if("none"===e)return 0;let t;if(e)if("number"==typeof e)t=1/e;else{const o=O.exec(e);if(o){const[,,e,n]=o;t=(n?Number(n):1)/Number(e)}else t=1}return C(t)?t:void 0},ae=R(se,1),ce=e=>{const t=P(e);if(void 0===t){const t=M((e||"").toString());return t&&t.replace(/\s/g,"")}return t?"":void 0},de=R((e=>{const t=M(e);return t&&t.replace(/\n\s*/g,"")})),le=A,me=e=>{if("offline"===l.env)return"";const t=M(e)||"placeholder:red",{isAbsolute:o,isSpecial:n}=f(t,l.domain);return n?t:o?`media:${t.slice(`${l.domain}/`.length)}`:t.replace(N,`media:${l.path}`)},pe=A,ue=e=>e&&e.trim(),fe={true:"fade",false:"none",fade:"fade",zoom:"zoom",none:"none"},he=e=>{"boolean"!=typeof e&&(e=M(e)||!0);const t={};return String(e).split(/\s*\+\s*|\s+/).forEach((e=>t[`${fe[e]||"fade"}`]=!0)),t},ge=M,ve=M,$e=M,be=e=>{if("string"==typeof e){const t=j.exec(e);if(t&&t[3])return!0;e=t&&t[2]?Number(t[2]):void 0}return C(e)&&e>1?e:void 0},we=[["anticipation","anticipation"],["class","class"],["maxDPR","max-dpr"],["step","step"]];var ye=(e,t)=>{const{component:o,componentName:n}=t,{computed:i}=o;e.component(n,Object.assign(Object.assign({},o),{name:n,computed:Object.assign({},i)}))};const _e=({x:e,y:t},o,n)=>"contain"===o&&(n||(t?e?`${t} ${e}`:t:e)),Te=(e,t,o,n,i,r,s,a,c,d,m)=>{if(!l.domain)return;const p=((e,t,o,n,i,r)=>{const s=new Set([...Object.keys(e).map(Number),...Object.keys(t).map(Number),...Object.keys(o).map(Number),...Object.keys(n).map(Number),...Object.keys(i).map(Number),...Object.keys(r).map(Number)]),a=[...new Set([...Object.values(l.breakpoints),...Array.from(s).filter((e=>e>0))])].sort(((e,t)=>e-t)),c=Array.from(s).sort(((e,t)=>e-t)).map((s=>({breakpoint:s,anchor:e[s],focus:t[s],mode:o[s],position:n[s],ratio:i[s],sizes:r[s]})));for(let e=1;e<c.length;e++){const t=c[e-1],o=c[e];for(const e of Object.keys(c[0]))o[e]||(o[e]=t[e])}return c.map(((e,t)=>{var o,n;const{anchor:i,breakpoint:r,focus:s,mode:d,position:l,ratio:m,sizes:p}=e,u=null!==(n=null===(o=c[t+1])||void 0===o?void 0:o.breakpoint)&&void 0!==n?n:void 0,f=r||u||Math.max(...a);return{anchor:i,breakpoint:r,focus:s,media:`(min-width: ${r}px)`,mode:d,position:l,ratio:m,resolutions:a.filter((e=>e>=r&&(void 0===u||e<u||0===r&&e<=u))),sizes:p,width:f,height:m?`${Math.round(f*m)}`:void 0}})).sort(((e,t)=>t.breakpoint-e.breakpoint))})(e,n,i,r,a,d),u=p.map(((e,n)=>{const{anchor:i,focus:r,media:a,mode:d,position:u,ratio:f,resolutions:v,sizes:$,width:b,height:w}=e,y="contain"===d?"inside":d,_=_e(i,d,u),T=`${Se({anchor:i,focus:r,mode:d,preTransform:s,refit:c})}${g(d,c)||""}${_?`@${_.replace(/(\s)/g,"-")}`:""}`,S=new Set;for(let e=1;e<=l.maxDPR;e++)v.forEach((t=>S.add(t*e)));const x=new Map;Array.from(S).sort(((e,t)=>t-e)).forEach((e=>{x.set(e,h({context:{height:f?Math.round(e*f):void 0,mode:y,width:e},domain:l.domain,transform:T,src:m}))}));const O={height:w,sizes:$,width:`${b}`};return O.srcset=Array.from(x,(([e,t])=>`${t} ${e}w`)).join(","),n===p.length-1?(O.fetchPriority=t?o||"high":o,O.loading=t?"eager":"lazy",O.src=x.get(b)):O.media=a,O}));return{img:u.pop(),sources:u}},Se=({anchor:{x:e,y:t},debug:o,focus:n,mode:i,preTransform:r,refit:s})=>{const a=t?e?`${t}-${e}`:t:e,c="contain"!==i&&void 0===s&&(n||a),d=((e,t,o)=>void 0!==o&&`${"contain"===t?"auto":"WxH"}${o?`(${o})`:""}${e&&"contain"!==t?`@${e}`:""}`)(a,i,s);return`${o?"/debug":""}${r?`/${r}`:""}${c?`/focus=${c}`:""}${d?`/refit=${d}`:""}`},xe=(e,t,o)=>{const n={};return t&&(n.transitionDuration=t),e&&(n.transitionDelay=e),o&&(n.transitionTimingFunction=o),n},Oe=(e,t)=>"img"===t?e:void 0,ke=(e,t,o,n,i,r,s,a,c,d,m,u)=>{const f={},{videoTransform:h,posterTransform:v}=u||{},$=Se({anchor:e,debug:"debug"===l.env,focus:n,mode:s,preTransform:a,refit:c});return($||h)&&(f[p("transform")]=`${$}${h||""}${g(s,c)||""}`),"string"==typeof t&&(f[p("bot")]=t||"/"),o&&(f[p("eager")]=""),i&&(f[p("intrinsic")]=i),d&&("img"===r||"video"===r?f[p("src")]=d:f[p("background")]=`url(${d})`),d&&"video"===r&&(f[p("poster")]=d,f[p("poster-transform")]=`${$}${v||""}/*/output=image`),void 0!==m&&(f[p("step")]=String(m)),f},je=(e,t,o,n,i,r,s,a,c,d,l,m,p,u,f)=>{const h=xe(l,m,p);f({anchor:e,focus:t,mode:o,placeholder:n,preTransform:r,ratio:s,refit:a,src:c,transitions:d,videoOptions:u}),o&&(h.backgroundSize=o);const g=_e(e,o,i);return g&&(h.backgroundPosition=g),h},Ce={img:"objectPosition",video:"objectPosition"},Ne={img:"objectFit",video:"objectFit"},Me=(e,t,o,n,i,r,s)=>{const a=xe(i,r,s),c=_e(e,o,n);return c&&(a[Ce[t]||"backgroundPosition"]=c),o&&(a[Ne[t]||"backgroundSize"]=o),a},De=(e,t,o)=>{const n=["twic-w"];return e&&n.push(e),o.hasOwnProperty("none")||(o.hasOwnProperty("fade")&&n.push("twic-tf"),o.hasOwnProperty("zoom")&&n.push("twic-tz")),"offline"===l.env&&(n.push("twic-offline"),t||n.push("twic-nosrc")),n.join(" ")},Ee=e=>0===e?{height:"100%",paddingTop:"0"}:{paddingTop:void 0===e?"":100*e+"%"},Pe=new WeakMap,ze=n&&"undefined"!=typeof MutationObserver&&new MutationObserver((e=>{for(const{target:t}of e){const e=Pe.get(t);e&&e.handleState()}})),Re=n&&"undefined"!=typeof ResizeObserver&&new ResizeObserver((e=>{for(const{target:t}of e){const e=Pe.get(t);e&&e.refreshBackground()}})),Ae=new RegExp(`(?:\\s*)(?:${l.class}(?:-background)*-)(done|error|loading)`);class Fe{constructor(e=void 0){this.handleState=()=>{if(this.stateHandler){let e="new";const{className:t}=this.media,o=Ae.exec(t);o&&([,e]=o),this.stateHandler(e)}},this.refreshBackground=((e,t)=>{let o;const n=Object.assign({leading:!0,ms:0,trailing:!0},{ms:100});return(...t)=>{!o&&n.leading&&e(...t),clearTimeout(o),o=setTimeout((()=>{o=void 0,n.trailing&&e(...t)}),n.ms)}})((()=>{if(this.media&&this.placeholderData){const e=this.media.nextElementSibling,t=((e,{anchor:t,focus:n,mode:i,placeholder:r,preTransform:s,src:a,ratio:c,refit:d,transitions:m,videoOptions:p})=>{if(!l.domain||!e||!r||m.hasOwnProperty("zoom"))return"";const u=getComputedStyle(e),f=i||Z(u.backgroundSize);let v;v=0===c?"contain"===f?1:o(u.height)/Math.max(1,o(u.width)):null!=c?c:o(u.fontSize);let $=1e3,b=1e3;v<1?$*=v:b/=v;const{videoTransform:w}=p||{},y=`${Se({anchor:t,focus:n,mode:i,preTransform:s,refit:d})}${w||""}${g(f,d)||""}`;return h({context:{height:Math.max(1,Math.round($)),mode:f,width:Math.max(1,Math.round(b))},domain:l.domain,transform:y,src:a,output:r})})(e,this.placeholderData);t&&t!==this.savedWrapperBackground&&(this.savedWrapperBackground=t,e.style.backgroundImage=`url(${JSON.stringify(t)})`)}})),this.setMedia=e=>{e&&(l.handleShadowDom(e),this.media=e,Pe.set(this.media,this),ze&&(ze.observe(this.media,{attributes:!0,attributeFilter:["class"]}),this.handleState()),Re&&Re.observe(this.media))},this.setPlaceholderData=e=>{this.placeholderData=e,this.media&&this.refreshBackground()},this.destroy=()=>{this.media&&this.media&&Re&&Re.unobserve(this.media)},this.stateHandler=e}}const Be=(e,t,o,n)=>({videoTransform:`${t?`/from=${t}`:""}${n?`/to=${n}`:""}${e?`/duration=${e}`:""}`,posterTransform:o||t?`/from=${void 0===o?t:o}`:""}),Le=(e,t)=>f(t,l.domain).isSpecial?void 0:e,Ve=(e,t,o)=>({type:e,default:o,validator:t&&(e=>t.test(String(e)))}),He=(e,t)=>Ve(String,e,t),We=(e,t)=>Ve([Boolean,String],e,t),Ie=Ve([Number,String],/^\d+$/),qe=Ve([Number,String],/^\d*\.?\d*$/),Ye=He(),Je=Ve([Object]),Xe=/^(\*+)(.*[^*])(\*+)$/,Ge=(e,t)=>{const o=t.map((e=>"function"==typeof e?{f:e}:{s:Xe.test(`${e}`)?`${`${e}`.replace(Xe,"$2")}`:`p_${e}`}));return t=>e(...o.map((({f:e,s:o})=>e?e(t):t[o])))},Ke={},Qe={};for(const[e,t,o]of[["alt",Ye,V],["anchor",He(b),B],["bot",Ye,H],["focus",Ye,X],["intrinsic",He(_),Q],["mediaTag",Ye,U],["mode",He(T),Z],["eager",We(null,!1),q],["placeholder",He(S),oe],["position",Ye,ne],["preTransform",Ye,re],["ratio",He(O),se],["refit",We(null,!1),ce],["src",Ye,me],["step",Ie,le],["title",Ye,ue],["transition",We(null,!0),he],["transitionDelay",Ye,ge],["transitionDuration",Ye,ve],["transitionTimingFunction",Ye,$e],["videoOptions",Je,e=>e]])Ke[`p_${e}`]=Ge(o,[`*${e}*`]),Qe[e]=t;Ke.p_undefined=()=>{};for(const[e,t,o]of[["_alt",Oe,["alt","mediaTag"]],["_dataAttributes",ke,["anchor","bot","eager","focus","intrinsic","mediaTag","mode","preTransform","refit","src","step","videoOptions"]],["_style",Me,["anchor","mediaTag","mode","position","transitionDelay","transitionDuration","transitionTimingFunction"]],["_placeholderStyle",je,["anchor","focus","mode","placeholder_","position","preTransform","ratio","refit","src","transition","transitionDelay","transitionDuration","transitionTimingFunction","videoOptions",e=>e.observer.setPlaceholderData]],["p_placeholder_",Le,["placeholder","src"]],["_wrapperClass",De,["undefined","src","transition"]],["_wrapperStyle",Ee,["ratio"]]])Ke[e]=Ge(t,o);var Ue={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:e._wrapperClass,style:e._wrapperStyle,attrs:{title:e.p_title}},[o(e.p_mediaTag,e._b({ref:"media",tag:"component",style:e._style,attrs:{alt:"img"===e.p_mediaTag?e._alt:void 0}},"component",Object.assign({},e._dataAttributes),!1)),e._v(" "),e.p_placeholder_?o("div",{style:e._placeholderStyle}):e._e()],1)},staticRenderFns:[],props:Qe,emits:["stateChange"],computed:Ke,beforeCreate(){this.observer=new Fe((e=>{this.$emit("stateChange",{state:e})}))},mounted(){this.observer.setMedia(this.$refs.media)},unmounted(){this.observer.destroy()}},Ze={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"twic-i"},[o("TwicMedia",e._b({attrs:{"media-tag":e.mediaTag},on:{stateChange:e.handleStateChange}},"TwicMedia",Object.assign({},e.$attrs,{class:""}),!1))],1)},staticRenderFns:[],components:{TwicMedia:Ue},props:{mediaTag:He(void 0,"div")},emits:["stateChange"],methods:{handleStateChange(e){const{state:t}=e;this.$emit("stateChange",{target:this,state:t})}}};const et=(e,t)=>{if(e<0||e>t)return Math.min(Math.max(0,e),t);let o=2*e/t;return o<1?t/2*o**3:(o-=2,t/2*(o**3+2))},tt=e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget,{left:o,top:n,right:i,bottom:r}=t.getBoundingClientRect(),{clientX:s,clientY:a}=e instanceof MouseEvent?e:e.touches[0];t.style.setProperty("--twic-xr",et(s-o,i-o).toString()),t.style.setProperty("--twic-yr",et(a-n,r-n).toString())},ot={},nt={};for(const[e,t,o]of[["zoom",(it=j,Ve([Number,String],it,void 0)),be]])nt[`p_${e}`]=Ge(o,[`*${e}*`]),ot[e]=t;var it;nt._magnifierStyle=Ge((e=>{const t={};return"boolean"!=typeof e&&e&&(t["--twic-zoom"]=`${e}`),t}),["zoom"]);var rt={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"hostElement",staticClass:"twic-i",class:{"twic-z":e.p_zoom},style:e._magnifierStyle},[e.p_zoom?o("TwicMedia",e._b({attrs:{"media-tag":"div"}},"TwicMedia",Object.assign({},e.$attrs,{class:"twic-m",mode:"cover"}),!1)):e._e(),e._v(" "),o("TwicMedia",e._b({attrs:{"media-tag":"img"},on:{stateChange:e.handleStateChange}},"TwicMedia",Object.assign({},e.$attrs,{class:""}),!1))],1)},staticRenderFns:[],components:{TwicMedia:Ue},props:ot,emits:["stateChange"],computed:nt,mounted(){this.p_zoom&&(e=>{const t=this.$refs.hostElement.firstElementChild;t.addEventListener("mousemove",(e=>tt(e))),t.addEventListener("touchmove",(e=>tt(e)))})()},methods:{handleStateChange(e){const{state:t}=e;this.$emit("stateChange",{target:this,state:t})}}};const st={},at={};for(const[e,t,o]of[["alt",Ye,V],["anchor",Ye,L],["fetchpriority",Ye,Y],["focus",Ye,G],["mode",Ye,ee],["eager",We(null,!1),q],["position",Ye,ie],["preTransform",Ye,re],["ratio",Ye,ae],["refit",We(null,!1),ce],["src",Ye,me],["sizes",Ye,de],["title",Ye,ue]])at[`p_${e}`]=Ge(o,[`*${e}*`]),st[e]=t;at.p_mediaTag=()=>"img";for(const[e,t,o]of[["_alt",Oe,["alt","mediaTag"]],["_pictureData",Te,["anchor","eager","fetchpriority","focus","mode","position","preTransform","ratio","refit","sizes","src"]]])at[e]=Ge(t,o);var ct={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"twic-i"},[o("picture",{staticClass:"twic-p",attrs:{title:e.p_title}},[e._pictureData&&e._pictureData.sources?e._l(e._pictureData.sources,(function(t,n){return o("source",e._b({key:n},"source",Object.assign({},t),!1))})):e._e(),e._v(" "),e._pictureData&&e._pictureData.img?[o("img",e._b({attrs:{alt:e._alt}},"img",Object.assign({},e._pictureData.img),!1))]:e._e()],2)])},staticRenderFns:[],props:st,computed:at};const dt={},lt={};for(const[e,t,o]of[["duration",qe,I],["from",qe,K],["posterFrom",qe,K],["to",qe,pe]])lt[`p_${e}`]=Ge(o,[`*${e}*`]),dt[e]=t;for(const[e,t,o]of[["_videoOptions",Be,["duration","from","posterFrom","to"]]])lt[e]=Ge(t,o);var mt={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"twic-i"},[o("TwicMedia",e._b({attrs:{"media-tag":"video",refit:!1,"video-options":e._videoOptions},on:{stateChange:e.handleStateChange}},"TwicMedia",Object.assign({},e.$attrs,{class:""}),!1))],1)},staticRenderFns:[],components:{TwicMedia:Ue},props:dt,emits:["stateChange"],computed:lt,methods:{handleStateChange(e){const{state:t}=e;this.$emit("stateChange",{target:this,state:t})}}},pt={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",e._b({},"div",e.viewAttributes,!1),[e._t("default")],2)},staticRenderFns:[],computed:{viewAttributes:()=>({[p("view")]:""})}};const ut=["TwicImg","TwicView","TwicVideo","TwicPicture"];exports.default=(t,o)=>{(t=>{(e=>{e||s("install options not provided");const{domain:t,env:o,path:n}=e;t&&w.test(t)||s(`install domain "${t}" is invalid`),n&&$.test(n)&&s(`install path "${n}" is invalid`),o&&!k.test(o)&&s(`install env "${o}" is invalid`)})(t);const{domain:o,env:r,path:a}=t;(t=>{const{breakpoints:o={},debug:r,domain:s,class:a,env:c,handleShadowDom:d,maxDPR:u,path:f}=t;l.breakpoints=Object.assign(Object.assign({},l.breakpoints),o),l.class=a||l.class,l.domain=s,l.env=r?"debug":c,l.maxDPR=Math.max(1,u||2),l.path=f,l.handleShadowDom=d&&n?(t=>{const o=new WeakSet;return n=>{for(;n&&!o.has(n);){o.add(n);const{parentNode:i}=n;if(!i&&n instanceof ShadowRoot){if("closed"===n.mode)throw new Error("cannot use TwicPics components in closed ShadowRoot");e({element:n,value:{elementName:"style",value:`.twic-i{overflow:hidden}.twic-w,.twic-w *{border:none;margin:0;overflow:hidden;padding:0}.twic-w{overflow:hidden;position:relative;padding-top:100%;width:100%;padding-top:calc(100% / var(--twic-ratio,1))}.twic-w>*{display:block;height:100%;left:0;position:absolute;top:0;width:100%;transition-property:opacity,transform;will-change:opacity,transform;background-size:cover;background-position:center;background-repeat:no-repeat;object-fit:cover;object-position:center;transition-delay:0s;transition-duration:.4s;transition-timing-function:ease;object-fit:var(--twic-mode,cover);object-position:var(--twic-position,center);transition-delay:var(--twic-transition-delay,0s);transition-duration:var(--twic-transition-duration,400ms);transition-timing-function:var(--twic-transition-timing-function,ease)}.twic-w>div{background-repeat:no-repeat;background-size:cover;background-position:center;background-size:var(--twic-mode,cover);background-position:var(--twic-position,center);font-size:calc(1px / var(--twic-ratio,1))}.twic-w>img:not([src]),.twic-w>img[src=\"\"]{visibility:hidden}.twic-w.twic-tz>img{transform:scale(0)}.twic-w.twic-tf>div{opacity:1}.twic-d{display:block}.twic-offline{background-color:#ccc}.twic-offline.twic-nosrc{background-color:#fd0016}.twic-offline>*{display:none}:root{--twic-zoom:0}.twic-z{position:relative}.twic-m{left:0;position:absolute;top:0;z-index:1}.twic-m>*{display:none;transition:none;width:calc(max(var(--twic-zoom),1) * 100%);height:calc(max(var(--twic-zoom),1) * 100%);transform:translate3d(calc((1 - max(var(--twic-zoom),1)) * var(--twic-xr,0) * 1px),calc((1 - max(var(--twic-zoom),1)) * var(--twic-yr,0) * 1px),0)}.twic-m:hover>*{display:block}.twic-m:hover+div,twicmedia:hover+twicmedia{opacity:0}.twic-p{border:none;margin:0;overflow:hidden;padding:0}.twic-p>img{display:block;object-fit:cover;object-position:center;width:100%;height:100%}${m()}`}}),(n=n.host)&&n.setAttribute(t,"")}else n=i}}})(p("component")):i})(Object.assign(Object.assign({},t),{domain:W(o),env:J(r),path:te(a)})),(t=>{if(n){const o=[`${l.domain}/?v1`];we.forEach((e=>{const[n,i]=e;t.hasOwnProperty(n)&&t[n]&&o.push(`${i}=${t[n]}`)}));const{scriptElementId:n}=t;e({element:document.head,value:[{attributes:{rel:"preconnect",href:l.domain},elementName:"link"},{attributes:Object.assign(Object.assign({async:"",defer:""},n&&{id:n}),{src:o.join("&")}),elementName:"script"}]});const i=e({elementName:"style",value:m()});document.head.appendChild(i),document.addEventListener("astro:after-swap",(()=>document.head.appendChild(i)))}})(t)})(o);for(let e=0;e<ut.length;e++)for(let t=e+1;t<ut.length;t++)o[ut[e]]&&o[ut[e]]===o[ut[t]]&&s(`${ut[e]} and ${ut[t]} components must have different names`);ye(t,{component:Ze,componentName:o.TwicBackground||"TwicBackground"}),ye(t,{component:rt,componentName:o.TwicImg||"TwicImg"}),ye(t,{component:ct,componentName:o.TwicPicture||"TwicPicture"}),ye(t,{component:mt,componentName:o.TwicVideo||"TwicVideo"}),ye(t,{component:pt,componentName:o.TwicView||"TwicView"})};
//# sourceMappingURL=index.js.map
