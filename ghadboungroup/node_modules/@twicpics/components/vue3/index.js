"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vue");const t=e=>{if(!e)return;const{attributes:o,element:n,elementName:r,value:i}=e,a=n||document.createElement(r||"div");if(o&&a instanceof HTMLElement)for(const[e,t]of Object.entries(o))a.setAttribute(e,String(t));if(i)if("string"==typeof i)a.innerHTML=i;else for(const e of Array.isArray(i)?i:[i]){const o=t(e);o&&a.appendChild(o)}return a},o=/px$/,n=e=>Number(e.replace(o,"")),r="undefined"!=typeof document,i=()=>{},a=(e,{filter:t,defaultValue:o}={})=>n=>{let r;return n&&`${n}`.replace(e,((e,t)=>r=t)),(t?t(r):r)||o},s=e=>{throw new Error((e=>`twicpics-components ${e}`)(e))},c=(e,{border:t="\\s",regExpFlags:o}={})=>new RegExp(`^(?:${t})*(${Array.isArray(e)?e.join("|"):e})(?:${t})*$`,o),d={breakpoints:{xs:320,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},class:"twic",domain:void 0,env:"production",handleShadowDom:i,maxDPR:void 0,path:"",step:void 0},l=r&&window,m=r?l["~ TPCC"]||(l["~ TPCC"]=d):d,p=()=>`.twic-w>.${m.class}-background-done+div,.twic-w>.${m.class}-done+div,.twic-w>.${m.class}-poster-done+div{opacity:0 !important}.twic-w>.${m.class}-done,.twic-w>.${m.class}-poster-done{transform:none !important}`,u=e=>`data-${m.class}-${e}`,f=/^(?:(auth|placeholder|rel)|(image|media|video)|[^:]*):(\/*)((v[0-9]+(?=[/?]))?[^?]*(\?.*)?)$/,h=(e,t="")=>{const o=e&&f.exec(e);return{isAbsolute:e.slice(0,t.length+1)===`${t}/`,isSpecial:o&&void 0!==o[1]}},g=({domain:e,context:t,inspect:o,output:n,quality:r,src:i,transform:a})=>{const{isAbsolute:s}=h(i,e),c=s?`media:${i.slice(`${e}/`.length)}`:i,d=f.exec(c),l=d&&d[2],m=n?`/output=${n}`:"",p=l?d[4]:c,u=r?`/quality=${r}`:"",g=o?"/inspect":"",v=(({height:e,mode:t,width:o},n)=>{if(n&&(o||e)){const r=e||"-",i=o||"-";return n.replace(/(\/*\*)/g,`/${t}=${i}x${r}`).replace(/WxH/g,`${i}x${r}`)}return n})(t,a);return`${e}/${d&&(d[1]||d[5])?`v1${v}${m}${u}${g}/${l?`${d[2]}:${p}`:p}`:`${p}${d&&d[6]?"&":"?"}twic=v1${v}${m}${g}${u}`}`},v=(e,t)=>"cover"===e&&void 0!==t?"":"/*",$=["center"];for(const e of["","bottom","top"])for(const t of["","left","right"])(t||e)&&$.push(e?t?`${e}-${t}`:e:t);const b=/\?|^\/*$/,w=c($),y=/(^https?:\/\/[^/]+)\/*$/,k=c(["high","low","auto"]),T=c("\\s*(\\d+)\\s*[x]\\s*(\\d+)\\s*"),S=c(["contain","cover"]),_=c(["maincolor","meancolor","none","preview"]),x=/^\/*(.+?)\/*$/,C=c("(\\d+(?:\\.\\d+)?)(?:\\s*[\\/:]\\s*(\\d+(?:\\.\\d+)?))?|(none)"),N=c(["debug","offline","production"]),O=c("(\\d+\\.?\\d*)|(css)",{regExpFlags:"i"}),P=e=>!isNaN(e)&&e>0,B=/^((image|media|video):)?\/*/,E=a(c("(?:.|\n)+?")),z=c(".+?",{border:"[\\s\\/]"}),D={true:!0,false:!1,"":!0},j=e=>"boolean"==typeof e?e:void 0!==e&&D[e.trim()],M=/(?:@(?<breakpoint>xs|sm|md|lg|xl|2xl|\d*)\s+)?(?<value>[^@]+)/gm,V=(e,t)=>o=>{const n={0:e(t)},r=E((o||"").toString());if(r){let o;for(;null!==(o=M.exec(r));){const{breakpoint:r,value:i}=o.groups||{},a=Number(r||"0");n[isNaN(a)?m.breakpoints[r]:a]=e(i?i.replace(/\s*,\s*$/g,""):t)}}return n},A=e=>{if("number"!=typeof e){const t=E(e);e=t&&Number(t)}return P(e)?e:void 0},R=/\b(?:(left|right)|(bottom|top))\b/g,F=e=>{const t=E(e);let o,n;if(t){let e;for(;e=R.exec(t);)e[1]?o=e[1]:n=e[2]}return{x:o,y:n}},L=V(F),H=e=>E(e)||"",I=e=>"string"==typeof e?e.trim():void 0,W=e=>{const t=E(e);return y.test(t)?t.replace(y,"$1"):void 0},q=A,Y=j,J=a(k),X=a(N),G=e=>{const t=E(e);return"none"===t?void 0:t},K=V(G),Q=A,U=e=>{if(!e)return;let t;const o=T.exec(e);if(o){const[,,e,n]=o;t=`${e}x${n}`}return t},Z=e=>{const t=E(e);return t&&t.toLocaleLowerCase()},ee=a(S,{defaultValue:"cover"}),te=V(ee),oe=e=>{const t=E(e);return t?t.replace(x,"$1/"):""},ne=e=>{if("offline"!==m.env&&"none"!==e)return _.test(e)?e:"preview"},re=E,ie=V(re),ae=a(z,{filter:e=>e&&e.replace(/^\/*(.*[^/])\/*$/,"$1")}),se=e=>{if("none"===e)return 0;let t;if(e)if("number"==typeof e)t=1/e;else{const o=C.exec(e);if(o){const[,,e,n]=o;t=(n?Number(n):1)/Number(e)}else t=1}return P(t)?t:void 0},ce=V(se,1),de=e=>{const t=j(e);if(void 0===t){const t=E((e||"").toString());return t&&t.replace(/\s/g,"")}return t?"":void 0},le=V((e=>{const t=E(e);return t&&t.replace(/\n\s*/g,"")})),me=A,pe=e=>{if("offline"===m.env)return"";const t=E(e)||"placeholder:red",{isAbsolute:o,isSpecial:n}=h(t,m.domain);return n?t:o?`media:${t.slice(`${m.domain}/`.length)}`:t.replace(B,`media:${m.path}`)},ue=A,fe=e=>e&&e.trim(),he={true:"fade",false:"none",fade:"fade",zoom:"zoom",none:"none"},ge=e=>{"boolean"!=typeof e&&(e=E(e)||!0);const t={};return String(e).split(/\s*\+\s*|\s+/).forEach((e=>t[`${he[e]||"fade"}`]=!0)),t},ve=E,$e=E,be=E,we=e=>{if("string"==typeof e){const t=O.exec(e);if(t&&t[3])return!0;e=t&&t[2]?Number(t[2]):void 0}return P(e)&&e>1?e:void 0},ye=[["anticipation","anticipation"],["class","class"],["maxDPR","max-dpr"],["step","step"]];var ke=(e,t)=>{const{component:o,componentName:n}=t,{computed:r}=o;e.component(n,Object.assign(Object.assign({},o),{name:n,computed:Object.assign({},r)}))};const Te=({x:e,y:t},o,n)=>"contain"===o&&(n||(t?e?`${t} ${e}`:t:e)),Se=(e,t,o,n,r,i,a,s,c,d,l)=>{if(!m.domain)return;const p=((e,t,o,n,r,i)=>{const a=new Set([...Object.keys(e).map(Number),...Object.keys(t).map(Number),...Object.keys(o).map(Number),...Object.keys(n).map(Number),...Object.keys(r).map(Number),...Object.keys(i).map(Number)]),s=[...new Set([...Object.values(m.breakpoints),...Array.from(a).filter((e=>e>0))])].sort(((e,t)=>e-t)),c=Array.from(a).sort(((e,t)=>e-t)).map((a=>({breakpoint:a,anchor:e[a],focus:t[a],mode:o[a],position:n[a],ratio:r[a],sizes:i[a]})));for(let e=1;e<c.length;e++){const t=c[e-1],o=c[e];for(const e of Object.keys(c[0]))o[e]||(o[e]=t[e])}return c.map(((e,t)=>{var o,n;const{anchor:r,breakpoint:i,focus:a,mode:d,position:l,ratio:m,sizes:p}=e,u=null!==(n=null===(o=c[t+1])||void 0===o?void 0:o.breakpoint)&&void 0!==n?n:void 0,f=i||u||Math.max(...s);return{anchor:r,breakpoint:i,focus:a,media:`(min-width: ${i}px)`,mode:d,position:l,ratio:m,resolutions:s.filter((e=>e>=i&&(void 0===u||e<u||0===i&&e<=u))),sizes:p,width:f,height:m?`${Math.round(f*m)}`:void 0}})).sort(((e,t)=>t.breakpoint-e.breakpoint))})(e,n,r,i,s,d),u=p.map(((e,n)=>{const{anchor:r,focus:i,media:s,mode:d,position:u,ratio:f,resolutions:h,sizes:$,width:b,height:w}=e,y="contain"===d?"inside":d,k=Te(r,d,u),T=`${_e({anchor:r,focus:i,mode:d,preTransform:a,refit:c})}${v(d,c)||""}${k?`@${k.replace(/(\s)/g,"-")}`:""}`,S=new Set;for(let e=1;e<=m.maxDPR;e++)h.forEach((t=>S.add(t*e)));const _=new Map;Array.from(S).sort(((e,t)=>t-e)).forEach((e=>{_.set(e,g({context:{height:f?Math.round(e*f):void 0,mode:y,width:e},domain:m.domain,transform:T,src:l}))}));const x={height:w,sizes:$,width:`${b}`};return x.srcset=Array.from(_,(([e,t])=>`${t} ${e}w`)).join(","),n===p.length-1?(x.fetchPriority=t?o||"high":o,x.loading=t?"eager":"lazy",x.src=_.get(b)):x.media=s,x}));return{img:u.pop(),sources:u}},_e=({anchor:{x:e,y:t},debug:o,focus:n,mode:r,preTransform:i,refit:a})=>{const s=t?e?`${t}-${e}`:t:e,c="contain"!==r&&void 0===a&&(n||s),d=((e,t,o)=>void 0!==o&&`${"contain"===t?"auto":"WxH"}${o?`(${o})`:""}${e&&"contain"!==t?`@${e}`:""}`)(s,r,a);return`${o?"/debug":""}${i?`/${i}`:""}${c?`/focus=${c}`:""}${d?`/refit=${d}`:""}`},xe=(e,t,o)=>{const n={};return t&&(n.transitionDuration=t),e&&(n.transitionDelay=e),o&&(n.transitionTimingFunction=o),n},Ce=(e,t)=>"img"===t?e:void 0,Ne=(e,t,o,n,r,i,a,s,c,d,l,p)=>{const f={},{videoTransform:h,posterTransform:g}=p||{},$=_e({anchor:e,debug:"debug"===m.env,focus:n,mode:a,preTransform:s,refit:c});return($||h)&&(f[u("transform")]=`${$}${h||""}${v(a,c)||""}`),"string"==typeof t&&(f[u("bot")]=t||"/"),o&&(f[u("eager")]=""),r&&(f[u("intrinsic")]=r),d&&("img"===i||"video"===i?f[u("src")]=d:f[u("background")]=`url(${d})`),d&&"video"===i&&(f[u("poster")]=d,f[u("poster-transform")]=`${$}${g||""}/*/output=image`),void 0!==l&&(f[u("step")]=String(l)),f},Oe=(e,t,o,n,r,i,a,s,c,d,l,m,p,u,f)=>{const h=xe(l,m,p);f({anchor:e,focus:t,mode:o,placeholder:n,preTransform:i,ratio:a,refit:s,src:c,transitions:d,videoOptions:u}),o&&(h.backgroundSize=o);const g=Te(e,o,r);return g&&(h.backgroundPosition=g),h},Pe={img:"objectPosition",video:"objectPosition"},Be={img:"objectFit",video:"objectFit"},Ee=(e,t,o,n,r,i,a)=>{const s=xe(r,i,a),c=Te(e,o,n);return c&&(s[Pe[t]||"backgroundPosition"]=c),o&&(s[Be[t]||"backgroundSize"]=o),s},ze=(e,t,o)=>{const n=["twic-w"];return e&&n.push(e),o.hasOwnProperty("none")||(o.hasOwnProperty("fade")&&n.push("twic-tf"),o.hasOwnProperty("zoom")&&n.push("twic-tz")),"offline"===m.env&&(n.push("twic-offline"),t||n.push("twic-nosrc")),n.join(" ")},De=e=>0===e?{height:"100%",paddingTop:"0"}:{paddingTop:void 0===e?"":100*e+"%"},je=new WeakMap,Me=r&&"undefined"!=typeof MutationObserver&&new MutationObserver((e=>{for(const{target:t}of e){const e=je.get(t);e&&e.handleState()}})),Ve=r&&"undefined"!=typeof ResizeObserver&&new ResizeObserver((e=>{for(const{target:t}of e){const e=je.get(t);e&&e.refreshBackground()}})),Ae=new RegExp(`(?:\\s*)(?:${m.class}(?:-background)*-)(done|error|loading)`);class Re{constructor(e=void 0){this.handleState=()=>{if(this.stateHandler){let e="new";const{className:t}=this.media,o=Ae.exec(t);o&&([,e]=o),this.stateHandler(e)}},this.refreshBackground=((e,t)=>{let o;const n=Object.assign({leading:!0,ms:0,trailing:!0},{ms:100});return(...t)=>{!o&&n.leading&&e(...t),clearTimeout(o),o=setTimeout((()=>{o=void 0,n.trailing&&e(...t)}),n.ms)}})((()=>{if(this.media&&this.placeholderData){const e=this.media.nextElementSibling,t=((e,{anchor:t,focus:o,mode:r,placeholder:i,preTransform:a,src:s,ratio:c,refit:d,transitions:l,videoOptions:p})=>{if(!m.domain||!e||!i||l.hasOwnProperty("zoom"))return"";const u=getComputedStyle(e),f=r||ee(u.backgroundSize);let h;h=0===c?"contain"===f?1:n(u.height)/Math.max(1,n(u.width)):null!=c?c:n(u.fontSize);let $=1e3,b=1e3;h<1?$*=h:b/=h;const{videoTransform:w}=p||{},y=`${_e({anchor:t,focus:o,mode:r,preTransform:a,refit:d})}${w||""}${v(f,d)||""}`;return g({context:{height:Math.max(1,Math.round($)),mode:f,width:Math.max(1,Math.round(b))},domain:m.domain,transform:y,src:s,output:i})})(e,this.placeholderData);t&&t!==this.savedWrapperBackground&&(this.savedWrapperBackground=t,e.style.backgroundImage=`url(${JSON.stringify(t)})`)}})),this.setMedia=e=>{e&&(m.handleShadowDom(e),this.media=e,je.set(this.media,this),Me&&(Me.observe(this.media,{attributes:!0,attributeFilter:["class"]}),this.handleState()),Ve&&Ve.observe(this.media))},this.setPlaceholderData=e=>{this.placeholderData=e,this.media&&this.refreshBackground()},this.destroy=()=>{this.media&&this.media&&Ve&&Ve.unobserve(this.media)},this.stateHandler=e}}const Fe=(e,t,o,n)=>({videoTransform:`${t?`/from=${t}`:""}${n?`/to=${n}`:""}${e?`/duration=${e}`:""}`,posterTransform:o||t?`/from=${void 0===o?t:o}`:""}),Le=(e,t)=>h(t,m.domain).isSpecial?void 0:e,He=(e,t,o)=>({type:e,default:o,validator:t&&(e=>t.test(String(e)))}),Ie=(e,t)=>He(String,e,t),We=(e,t)=>He([Boolean,String],e,t),qe=He([Number,String],/^\d+$/),Ye=He([Number,String],/^\d*\.?\d*$/),Je=Ie(),Xe=He([Object]),Ge=/^(\*+)(.*[^*])(\*+)$/,Ke=(e,t)=>{const o=t.map((e=>"function"==typeof e?{f:e}:{s:Ge.test(`${e}`)?`${`${e}`.replace(Ge,"$2")}`:`p_${e}`}));return t=>e(...o.map((({f:e,s:o})=>e?e(t):t[o])))},Qe={},Ue={};for(const[e,t,o]of[["alt",Je,H],["anchor",Ie(w),F],["bot",Je,I],["focus",Je,G],["intrinsic",Ie(T),U],["mediaTag",Je,Z],["mode",Ie(S),ee],["eager",We(null,!1),Y],["placeholder",Ie(_),ne],["position",Je,re],["preTransform",Je,ae],["ratio",Ie(C),se],["refit",We(null,!1),de],["src",Je,pe],["step",qe,me],["title",Je,fe],["transition",We(null,!0),ge],["transitionDelay",Je,ve],["transitionDuration",Je,$e],["transitionTimingFunction",Je,be],["videoOptions",Xe,e=>e]])Qe[`p_${e}`]=Ke(o,[`*${e}*`]),Ue[e]=t;Qe.p_undefined=()=>{};for(const[e,t,o]of[["_alt",Ce,["alt","mediaTag"]],["_dataAttributes",Ne,["anchor","bot","eager","focus","intrinsic","mediaTag","mode","preTransform","refit","src","step","videoOptions"]],["_style",Ee,["anchor","mediaTag","mode","position","transitionDelay","transitionDuration","transitionTimingFunction"]],["_placeholderStyle",Oe,["anchor","focus","mode","placeholder_","position","preTransform","ratio","refit","src","transition","transitionDelay","transitionDuration","transitionTimingFunction","videoOptions",e=>e.observer.setPlaceholderData]],["p_placeholder_",Le,["placeholder","src"]],["_wrapperClass",ze,["undefined","src","transition"]],["_wrapperStyle",De,["ratio"]]])Qe[e]=Ke(t,o);var Ze={props:Ue,emits:["stateChange"],computed:Qe,beforeCreate(){this.observer=new Re((e=>{this.$emit("stateChange",{state:e})}))},mounted(){this.observer.setMedia(this.$refs.media)},unmounted(){this.observer.destroy()}};const et=["title"];Ze.render=function(t,o,n,r,i,a){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t._wrapperClass),style:e.normalizeStyle(t._wrapperStyle),title:t.p_title},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.p_mediaTag),e.mergeProps({ref:"media",alt:"img"===t.p_mediaTag?t._alt:void 0,style:t._style},{...t._dataAttributes}),null,16,["alt","style"])),t.p_placeholder_?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle(t._placeholderStyle)},null,4)):e.createCommentVNode("v-if",!0)],14,et)},Ze.__file="src/vue/TwicMedia.vue";var tt={components:{TwicMedia:Ze},props:{mediaTag:Ie(void 0,"div")},emits:["stateChange"],methods:{handleStateChange(e){const{state:t}=e;this.$emit("stateChange",{target:this,state:t})}}};const ot={class:"twic-i"};tt.render=function(t,o,n,r,i,a){const s=e.resolveComponent("TwicMedia");return e.openBlock(),e.createElementBlock("div",ot,[e.createVNode(s,e.mergeProps({"media-tag":t.mediaTag},{...t.$attrs,class:""},{onStateChange:t.handleStateChange}),null,16,["media-tag","onStateChange"])])},tt.__file="src/vue/TwicBackground.vue";const nt=(e,t)=>{if(e<0||e>t)return Math.min(Math.max(0,e),t);let o=2*e/t;return o<1?t/2*o**3:(o-=2,t/2*(o**3+2))},rt=e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget,{left:o,top:n,right:r,bottom:i}=t.getBoundingClientRect(),{clientX:a,clientY:s}=e instanceof MouseEvent?e:e.touches[0];t.style.setProperty("--twic-xr",nt(a-o,r-o).toString()),t.style.setProperty("--twic-yr",nt(s-n,i-n).toString())},it={},at={};for(const[e,t,o]of[["zoom",(st=O,He([Number,String],st,void 0)),we]])at[`p_${e}`]=Ke(o,[`*${e}*`]),it[e]=t;var st;at._magnifierStyle=Ke((e=>{const t={};return"boolean"!=typeof e&&e&&(t["--twic-zoom"]=`${e}`),t}),["zoom"]);var ct={components:{TwicMedia:Ze},props:it,emits:["stateChange"],computed:at,mounted(){this.p_zoom&&(e=>{const t=this.$refs.hostElement.firstElementChild;t.addEventListener("mousemove",(e=>rt(e))),t.addEventListener("touchmove",(e=>rt(e)))})()},methods:{handleStateChange(e){const{state:t}=e;this.$emit("stateChange",{target:this,state:t})}},render:function(t,o,n,r,i,a){const s=e.resolveComponent("TwicMedia");return e.openBlock(),e.createElementBlock("div",{ref:"hostElement",class:e.normalizeClass(["twic-i",{"twic-z":t.p_zoom}]),style:e.normalizeStyle(t._magnifierStyle)},[t.p_zoom?(e.openBlock(),e.createBlock(s,e.mergeProps({key:0,"media-tag":"div"},{...t.$attrs,class:"twic-m",mode:"cover"}),null,16)):e.createCommentVNode("v-if",!0),e.createVNode(s,e.mergeProps({"media-tag":"img"},{...t.$attrs,class:""},{onStateChange:t.handleStateChange}),null,16,["onStateChange"])],6)},__file:"src/vue/TwicImg.vue"};const dt={},lt={};for(const[e,t,o]of[["alt",Je,H],["anchor",Je,L],["fetchpriority",Je,J],["focus",Je,K],["mode",Je,te],["eager",We(null,!1),Y],["position",Je,ie],["preTransform",Je,ae],["ratio",Je,ce],["refit",We(null,!1),de],["src",Je,pe],["sizes",Je,le],["title",Je,fe]])lt[`p_${e}`]=Ke(o,[`*${e}*`]),dt[e]=t;lt.p_mediaTag=()=>"img";for(const[e,t,o]of[["_alt",Ce,["alt","mediaTag"]],["_pictureData",Se,["anchor","eager","fetchpriority","focus","mode","position","preTransform","ratio","refit","sizes","src"]]])lt[e]=Ke(t,o);var mt={props:dt,computed:lt};const pt={class:"twic-i"},ut=["title"],ft=["alt"];mt.render=function(t,o,n,r,i,a){return e.openBlock(),e.createElementBlock("div",pt,[e.createElementVNode("picture",{class:"twic-p",title:t.p_title},[t._pictureData&&t._pictureData.sources?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(t._pictureData.sources,((t,o)=>(e.openBlock(),e.createElementBlock("source",e.mergeProps({key:o},{...t}),null,16)))),128)):e.createCommentVNode("v-if",!0),t._pictureData&&t._pictureData.img?(e.openBlock(),e.createElementBlock("img",e.mergeProps({key:1,alt:t._alt},{...t._pictureData.img}),null,16,ft)):e.createCommentVNode("v-if",!0)],8,ut)])},mt.__file="src/vue/TwicPicture.vue";const ht={},gt={};for(const[e,t,o]of[["duration",Ye,q],["from",Ye,Q],["posterFrom",Ye,Q],["to",Ye,ue]])gt[`p_${e}`]=Ke(o,[`*${e}*`]),ht[e]=t;for(const[e,t,o]of[["_videoOptions",Fe,["duration","from","posterFrom","to"]]])gt[e]=Ke(t,o);var vt={components:{TwicMedia:Ze},props:ht,emits:["stateChange"],computed:gt,methods:{handleStateChange(e){const{state:t}=e;this.$emit("stateChange",{target:this,state:t})}}};const $t={class:"twic-i"};vt.render=function(t,o,n,r,i,a){const s=e.resolveComponent("TwicMedia");return e.openBlock(),e.createElementBlock("div",$t,[e.createVNode(s,e.mergeProps({"media-tag":"video"},{...t.$attrs,class:""},{refit:!1,"video-options":t._videoOptions,onStateChange:t.handleStateChange}),null,16,["video-options","onStateChange"])])},vt.__file="src/vue/TwicVideo.vue";var bt={computed:{viewAttributes:()=>({[u("view")]:""})},render:function(t,o,n,r,i,a){return e.openBlock(),e.createElementBlock("div",e.normalizeProps(e.guardReactiveProps(t.viewAttributes)),[e.renderSlot(t.$slots,"default")],16)},__file:"src/vue/TwicView.vue"};const wt=["TwicImg","TwicView","TwicVideo","TwicPicture"];exports.default=(e,o)=>{(e=>{(e=>{e||s("install options not provided");const{domain:t,env:o,path:n}=e;t&&y.test(t)||s(`install domain "${t}" is invalid`),n&&b.test(n)&&s(`install path "${n}" is invalid`),o&&!N.test(o)&&s(`install env "${o}" is invalid`)})(e);const{domain:o,env:n,path:a}=e;(e=>{const{breakpoints:o={},debug:n,domain:a,class:s,env:c,handleShadowDom:d,maxDPR:l,path:f}=e;m.breakpoints=Object.assign(Object.assign({},m.breakpoints),o),m.class=s||m.class,m.domain=a,m.env=n?"debug":c,m.maxDPR=Math.max(1,l||2),m.path=f,m.handleShadowDom=d&&r?(e=>{const o=new WeakSet;return n=>{for(;n&&!o.has(n);){o.add(n);const{parentNode:r}=n;if(!r&&n instanceof ShadowRoot){if("closed"===n.mode)throw new Error("cannot use TwicPics components in closed ShadowRoot");t({element:n,value:{elementName:"style",value:`.twic-i{overflow:hidden}.twic-w,.twic-w *{border:none;margin:0;overflow:hidden;padding:0}.twic-w{overflow:hidden;position:relative;padding-top:100%;width:100%;padding-top:calc(100% / var(--twic-ratio,1))}.twic-w>*{display:block;height:100%;left:0;position:absolute;top:0;width:100%;transition-property:opacity,transform;will-change:opacity,transform;background-size:cover;background-position:center;background-repeat:no-repeat;object-fit:cover;object-position:center;transition-delay:0s;transition-duration:.4s;transition-timing-function:ease;object-fit:var(--twic-mode,cover);object-position:var(--twic-position,center);transition-delay:var(--twic-transition-delay,0s);transition-duration:var(--twic-transition-duration,400ms);transition-timing-function:var(--twic-transition-timing-function,ease)}.twic-w>div{background-repeat:no-repeat;background-size:cover;background-position:center;background-size:var(--twic-mode,cover);background-position:var(--twic-position,center);font-size:calc(1px / var(--twic-ratio,1))}.twic-w>img:not([src]),.twic-w>img[src=\"\"]{visibility:hidden}.twic-w.twic-tz>img{transform:scale(0)}.twic-w.twic-tf>div{opacity:1}.twic-d{display:block}.twic-offline{background-color:#ccc}.twic-offline.twic-nosrc{background-color:#fd0016}.twic-offline>*{display:none}:root{--twic-zoom:0}.twic-z{position:relative}.twic-m{left:0;position:absolute;top:0;z-index:1}.twic-m>*{display:none;transition:none;width:calc(max(var(--twic-zoom),1) * 100%);height:calc(max(var(--twic-zoom),1) * 100%);transform:translate3d(calc((1 - max(var(--twic-zoom),1)) * var(--twic-xr,0) * 1px),calc((1 - max(var(--twic-zoom),1)) * var(--twic-yr,0) * 1px),0)}.twic-m:hover>*{display:block}.twic-m:hover+div,twicmedia:hover+twicmedia{opacity:0}.twic-p{border:none;margin:0;overflow:hidden;padding:0}.twic-p>img{display:block;object-fit:cover;object-position:center;width:100%;height:100%}${p()}`}}),(n=n.host)&&n.setAttribute(e,"")}else n=r}}})(u("component")):i})(Object.assign(Object.assign({},e),{domain:W(o),env:X(n),path:oe(a)})),(e=>{if(r){const o=[`${m.domain}/?v1`];ye.forEach((t=>{const[n,r]=t;e.hasOwnProperty(n)&&e[n]&&o.push(`${r}=${e[n]}`)}));const{scriptElementId:n}=e;t({element:document.head,value:[{attributes:{rel:"preconnect",href:m.domain},elementName:"link"},{attributes:Object.assign(Object.assign({async:"",defer:""},n&&{id:n}),{src:o.join("&")}),elementName:"script"}]});const r=t({elementName:"style",value:p()});document.head.appendChild(r),document.addEventListener("astro:after-swap",(()=>document.head.appendChild(r)))}})(e)})(o);for(let e=0;e<wt.length;e++)for(let t=e+1;t<wt.length;t++)o[wt[e]]&&o[wt[e]]===o[wt[t]]&&s(`${wt[e]} and ${wt[t]} components must have different names`);ke(e,{component:tt,componentName:o.TwicBackground||"TwicBackground"}),ke(e,{component:ct,componentName:o.TwicImg||"TwicImg"}),ke(e,{component:mt,componentName:o.TwicPicture||"TwicPicture"}),ke(e,{component:vt,componentName:o.TwicVideo||"TwicVideo"}),ke(e,{component:bt,componentName:o.TwicView||"TwicView"})};
//# sourceMappingURL=index.js.map
