import{openBlock as e,createElementBlock as t,normalizeClass as o,normalizeStyle as n,createBlock as i,resolveDynamicComponent as r,mergeProps as a,createCommentVNode as s,resolveComponent as c,createVNode as d,createElementVNode as l,Fragment as m,renderList as u,normalizeProps as p,guardReactiveProps as f,renderSlot as h}from"vue";const g=e=>{if(!e)return;const{attributes:t,element:o,elementName:n,value:i}=e,r=o||document.createElement(n||"div");if(t&&r instanceof HTMLElement)for(const[e,o]of Object.entries(t))r.setAttribute(e,String(o));if(i)if("string"==typeof i)r.innerHTML=i;else for(const e of Array.isArray(i)?i:[i]){const t=g(e);t&&r.appendChild(t)}return r},v=/px$/,$=e=>Number(e.replace(v,"")),b="undefined"!=typeof document,w=()=>{},y=(e,{filter:t,defaultValue:o}={})=>n=>{let i;return n&&`${n}`.replace(e,((e,t)=>i=t)),(t?t(i):i)||o},T=e=>{throw new Error((e=>`twicpics-components ${e}`)(e))},_=(e,{border:t="\\s",regExpFlags:o}={})=>new RegExp(`^(?:${t})*(${Array.isArray(e)?e.join("|"):e})(?:${t})*$`,o),S={breakpoints:{xs:320,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},class:"twic",domain:void 0,env:"production",handleShadowDom:w,maxDPR:void 0,path:"",step:void 0},x=b&&window,k=b?x["~ TPCC"]||(x["~ TPCC"]=S):S,O=()=>`.twic-w>.${k.class}-background-done+div,.twic-w>.${k.class}-done+div,.twic-w>.${k.class}-poster-done+div{opacity:0 !important}.twic-w>.${k.class}-done,.twic-w>.${k.class}-poster-done{transform:none !important}`,C=e=>`data-${k.class}-${e}`,N=/^(?:(auth|placeholder|rel)|(image|media|video)|[^:]*):(\/*)((v[0-9]+(?=[/?]))?[^?]*(\?.*)?)$/,D=(e,t="")=>{const o=e&&N.exec(e);return{isAbsolute:e.slice(0,t.length+1)===`${t}/`,isSpecial:o&&void 0!==o[1]}},j=({domain:e,context:t,inspect:o,output:n,quality:i,src:r,transform:a})=>{const{isAbsolute:s}=D(r,e),c=s?`media:${r.slice(`${e}/`.length)}`:r,d=N.exec(c),l=d&&d[2],m=n?`/output=${n}`:"",u=l?d[4]:c,p=i?`/quality=${i}`:"",f=o?"/inspect":"",h=(({height:e,mode:t,width:o},n)=>{if(n&&(o||e)){const i=e||"-",r=o||"-";return n.replace(/(\/*\*)/g,`/${t}=${r}x${i}`).replace(/WxH/g,`${r}x${i}`)}return n})(t,a);return`${e}/${d&&(d[1]||d[5])?`v1${h}${m}${p}${f}/${l?`${d[2]}:${u}`:u}`:`${u}${d&&d[6]?"&":"?"}twic=v1${h}${m}${f}${p}`}`},M=(e,t)=>"cover"===e&&void 0!==t?"":"/*",P=["center"];for(const e of["","bottom","top"])for(const t of["","left","right"])(t||e)&&P.push(e?t?`${e}-${t}`:e:t);const z=/\?|^\/*$/,E=_(P),A=/(^https?:\/\/[^/]+)\/*$/,R=_(["high","low","auto"]),F=_("\\s*(\\d+)\\s*[x]\\s*(\\d+)\\s*"),B=_(["contain","cover"]),V=_(["maincolor","meancolor","none","preview"]),L=/^\/*(.+?)\/*$/,H=_("(\\d+(?:\\.\\d+)?)(?:\\s*[\\/:]\\s*(\\d+(?:\\.\\d+)?))?|(none)"),I=_(["debug","offline","production"]),W=_("(\\d+\\.?\\d*)|(css)",{regExpFlags:"i"}),q=e=>!isNaN(e)&&e>0,Y=/^((image|media|video):)?\/*/,J=y(_("(?:.|\n)+?")),X=_(".+?",{border:"[\\s\\/]"}),G={true:!0,false:!1,"":!0},K=e=>"boolean"==typeof e?e:void 0!==e&&G[e.trim()],Q=/(?:@(?<breakpoint>xs|sm|md|lg|xl|2xl|\d*)\s+)?(?<value>[^@]+)/gm,U=(e,t)=>o=>{const n={0:e(t)},i=J((o||"").toString());if(i){let o;for(;null!==(o=Q.exec(i));){const{breakpoint:i,value:r}=o.groups||{},a=Number(i||"0");n[isNaN(a)?k.breakpoints[i]:a]=e(r?r.replace(/\s*,\s*$/g,""):t)}}return n},Z=e=>{if("number"!=typeof e){const t=J(e);e=t&&Number(t)}return q(e)?e:void 0},ee=/\b(?:(left|right)|(bottom|top))\b/g,te=e=>{const t=J(e);let o,n;if(t){let e;for(;e=ee.exec(t);)e[1]?o=e[1]:n=e[2]}return{x:o,y:n}},oe=U(te),ne=e=>J(e)||"",ie=e=>"string"==typeof e?e.trim():void 0,re=e=>{const t=J(e);return A.test(t)?t.replace(A,"$1"):void 0},ae=Z,se=K,ce=y(R),de=y(I),le=e=>{const t=J(e);return"none"===t?void 0:t},me=U(le),ue=Z,pe=e=>{if(!e)return;let t;const o=F.exec(e);if(o){const[,,e,n]=o;t=`${e}x${n}`}return t},fe=e=>{const t=J(e);return t&&t.toLocaleLowerCase()},he=y(B,{defaultValue:"cover"}),ge=U(he),ve=e=>{const t=J(e);return t?t.replace(L,"$1/"):""},$e=e=>{if("offline"!==k.env&&"none"!==e)return V.test(e)?e:"preview"},be=J,we=U(be),ye=y(X,{filter:e=>e&&e.replace(/^\/*(.*[^/])\/*$/,"$1")}),Te=e=>{if("none"===e)return 0;let t;if(e)if("number"==typeof e)t=1/e;else{const o=H.exec(e);if(o){const[,,e,n]=o;t=(n?Number(n):1)/Number(e)}else t=1}return q(t)?t:void 0},_e=U(Te,1),Se=e=>{const t=K(e);if(void 0===t){const t=J((e||"").toString());return t&&t.replace(/\s/g,"")}return t?"":void 0},xe=U((e=>{const t=J(e);return t&&t.replace(/\n\s*/g,"")})),ke=Z,Oe=e=>{if("offline"===k.env)return"";const t=J(e)||"placeholder:red",{isAbsolute:o,isSpecial:n}=D(t,k.domain);return n?t:o?`media:${t.slice(`${k.domain}/`.length)}`:t.replace(Y,`media:${k.path}`)},Ce=Z,Ne=e=>e&&e.trim(),De={true:"fade",false:"none",fade:"fade",zoom:"zoom",none:"none"},je=e=>{"boolean"!=typeof e&&(e=J(e)||!0);const t={};return String(e).split(/\s*\+\s*|\s+/).forEach((e=>t[`${De[e]||"fade"}`]=!0)),t},Me=J,Pe=J,ze=J,Ee=e=>{if("string"==typeof e){const t=W.exec(e);if(t&&t[3])return!0;e=t&&t[2]?Number(t[2]):void 0}return q(e)&&e>1?e:void 0},Ae=[["anticipation","anticipation"],["class","class"],["maxDPR","max-dpr"],["step","step"]];var Re=(e,t)=>{const{component:o,componentName:n}=t,{computed:i}=o;e.component(n,Object.assign(Object.assign({},o),{name:n,computed:Object.assign({},i)}))};const Fe=({x:e,y:t},o,n)=>"contain"===o&&(n||(t?e?`${t} ${e}`:t:e)),Be=(e,t,o,n,i,r,a,s,c,d,l)=>{if(!k.domain)return;const m=((e,t,o,n,i,r)=>{const a=new Set([...Object.keys(e).map(Number),...Object.keys(t).map(Number),...Object.keys(o).map(Number),...Object.keys(n).map(Number),...Object.keys(i).map(Number),...Object.keys(r).map(Number)]),s=[...new Set([...Object.values(k.breakpoints),...Array.from(a).filter((e=>e>0))])].sort(((e,t)=>e-t)),c=Array.from(a).sort(((e,t)=>e-t)).map((a=>({breakpoint:a,anchor:e[a],focus:t[a],mode:o[a],position:n[a],ratio:i[a],sizes:r[a]})));for(let e=1;e<c.length;e++){const t=c[e-1],o=c[e];for(const e of Object.keys(c[0]))o[e]||(o[e]=t[e])}return c.map(((e,t)=>{var o,n;const{anchor:i,breakpoint:r,focus:a,mode:d,position:l,ratio:m,sizes:u}=e,p=null!==(n=null===(o=c[t+1])||void 0===o?void 0:o.breakpoint)&&void 0!==n?n:void 0,f=r||p||Math.max(...s);return{anchor:i,breakpoint:r,focus:a,media:`(min-width: ${r}px)`,mode:d,position:l,ratio:m,resolutions:s.filter((e=>e>=r&&(void 0===p||e<p||0===r&&e<=p))),sizes:u,width:f,height:m?`${Math.round(f*m)}`:void 0}})).sort(((e,t)=>t.breakpoint-e.breakpoint))})(e,n,i,r,s,d),u=m.map(((e,n)=>{const{anchor:i,focus:r,media:s,mode:d,position:u,ratio:p,resolutions:f,sizes:h,width:g,height:v}=e,$="contain"===d?"inside":d,b=Fe(i,d,u),w=`${Ve({anchor:i,focus:r,mode:d,preTransform:a,refit:c})}${M(d,c)||""}${b?`@${b.replace(/(\s)/g,"-")}`:""}`,y=new Set;for(let e=1;e<=k.maxDPR;e++)f.forEach((t=>y.add(t*e)));const T=new Map;Array.from(y).sort(((e,t)=>t-e)).forEach((e=>{T.set(e,j({context:{height:p?Math.round(e*p):void 0,mode:$,width:e},domain:k.domain,transform:w,src:l}))}));const _={height:v,sizes:h,width:`${g}`};return _.srcset=Array.from(T,(([e,t])=>`${t} ${e}w`)).join(","),n===m.length-1?(_.fetchPriority=t?o||"high":o,_.loading=t?"eager":"lazy",_.src=T.get(g)):_.media=s,_}));return{img:u.pop(),sources:u}},Ve=({anchor:{x:e,y:t},debug:o,focus:n,mode:i,preTransform:r,refit:a})=>{const s=t?e?`${t}-${e}`:t:e,c="contain"!==i&&void 0===a&&(n||s),d=((e,t,o)=>void 0!==o&&`${"contain"===t?"auto":"WxH"}${o?`(${o})`:""}${e&&"contain"!==t?`@${e}`:""}`)(s,i,a);return`${o?"/debug":""}${r?`/${r}`:""}${c?`/focus=${c}`:""}${d?`/refit=${d}`:""}`},Le=(e,t,o)=>{const n={};return t&&(n.transitionDuration=t),e&&(n.transitionDelay=e),o&&(n.transitionTimingFunction=o),n},He=(e,t)=>"img"===t?e:void 0,Ie=(e,t,o,n,i,r,a,s,c,d,l,m)=>{const u={},{videoTransform:p,posterTransform:f}=m||{},h=Ve({anchor:e,debug:"debug"===k.env,focus:n,mode:a,preTransform:s,refit:c});return(h||p)&&(u[C("transform")]=`${h}${p||""}${M(a,c)||""}`),"string"==typeof t&&(u[C("bot")]=t||"/"),o&&(u[C("eager")]=""),i&&(u[C("intrinsic")]=i),d&&("img"===r||"video"===r?u[C("src")]=d:u[C("background")]=`url(${d})`),d&&"video"===r&&(u[C("poster")]=d,u[C("poster-transform")]=`${h}${f||""}/*/output=image`),void 0!==l&&(u[C("step")]=String(l)),u},We=(e,t,o,n,i,r,a,s,c,d,l,m,u,p,f)=>{const h=Le(l,m,u);f({anchor:e,focus:t,mode:o,placeholder:n,preTransform:r,ratio:a,refit:s,src:c,transitions:d,videoOptions:p}),o&&(h.backgroundSize=o);const g=Fe(e,o,i);return g&&(h.backgroundPosition=g),h},qe={img:"objectPosition",video:"objectPosition"},Ye={img:"objectFit",video:"objectFit"},Je=(e,t,o,n,i,r,a)=>{const s=Le(i,r,a),c=Fe(e,o,n);return c&&(s[qe[t]||"backgroundPosition"]=c),o&&(s[Ye[t]||"backgroundSize"]=o),s},Xe=(e,t,o)=>{const n=["twic-w"];return e&&n.push(e),o.hasOwnProperty("none")||(o.hasOwnProperty("fade")&&n.push("twic-tf"),o.hasOwnProperty("zoom")&&n.push("twic-tz")),"offline"===k.env&&(n.push("twic-offline"),t||n.push("twic-nosrc")),n.join(" ")},Ge=e=>0===e?{height:"100%",paddingTop:"0"}:{paddingTop:void 0===e?"":100*e+"%"},Ke=new WeakMap,Qe=b&&"undefined"!=typeof MutationObserver&&new MutationObserver((e=>{for(const{target:t}of e){const e=Ke.get(t);e&&e.handleState()}})),Ue=b&&"undefined"!=typeof ResizeObserver&&new ResizeObserver((e=>{for(const{target:t}of e){const e=Ke.get(t);e&&e.refreshBackground()}})),Ze=new RegExp(`(?:\\s*)(?:${k.class}(?:-background)*-)(done|error|loading)`);class et{constructor(e=void 0){this.handleState=()=>{if(this.stateHandler){let e="new";const{className:t}=this.media,o=Ze.exec(t);o&&([,e]=o),this.stateHandler(e)}},this.refreshBackground=((e,t)=>{let o;const n=Object.assign({leading:!0,ms:0,trailing:!0},{ms:100});return(...t)=>{!o&&n.leading&&e(...t),clearTimeout(o),o=setTimeout((()=>{o=void 0,n.trailing&&e(...t)}),n.ms)}})((()=>{if(this.media&&this.placeholderData){const e=this.media.nextElementSibling,t=((e,{anchor:t,focus:o,mode:n,placeholder:i,preTransform:r,src:a,ratio:s,refit:c,transitions:d,videoOptions:l})=>{if(!k.domain||!e||!i||d.hasOwnProperty("zoom"))return"";const m=getComputedStyle(e),u=n||he(m.backgroundSize);let p;p=0===s?"contain"===u?1:$(m.height)/Math.max(1,$(m.width)):null!=s?s:$(m.fontSize);let f=1e3,h=1e3;p<1?f*=p:h/=p;const{videoTransform:g}=l||{},v=`${Ve({anchor:t,focus:o,mode:n,preTransform:r,refit:c})}${g||""}${M(u,c)||""}`;return j({context:{height:Math.max(1,Math.round(f)),mode:u,width:Math.max(1,Math.round(h))},domain:k.domain,transform:v,src:a,output:i})})(e,this.placeholderData);t&&t!==this.savedWrapperBackground&&(this.savedWrapperBackground=t,e.style.backgroundImage=`url(${JSON.stringify(t)})`)}})),this.setMedia=e=>{e&&(k.handleShadowDom(e),this.media=e,Ke.set(this.media,this),Qe&&(Qe.observe(this.media,{attributes:!0,attributeFilter:["class"]}),this.handleState()),Ue&&Ue.observe(this.media))},this.setPlaceholderData=e=>{this.placeholderData=e,this.media&&this.refreshBackground()},this.destroy=()=>{this.media&&this.media&&Ue&&Ue.unobserve(this.media)},this.stateHandler=e}}const tt=(e,t,o,n)=>({videoTransform:`${t?`/from=${t}`:""}${n?`/to=${n}`:""}${e?`/duration=${e}`:""}`,posterTransform:o||t?`/from=${void 0===o?t:o}`:""}),ot=(e,t)=>D(t,k.domain).isSpecial?void 0:e,nt=(e,t,o)=>({type:e,default:o,validator:t&&(e=>t.test(String(e)))}),it=(e,t)=>nt(String,e,t),rt=(e,t)=>nt([Boolean,String],e,t),at=nt([Number,String],/^\d+$/),st=nt([Number,String],/^\d*\.?\d*$/),ct=it(),dt=nt([Object]),lt=/^(\*+)(.*[^*])(\*+)$/,mt=(e,t)=>{const o=t.map((e=>"function"==typeof e?{f:e}:{s:lt.test(`${e}`)?`${`${e}`.replace(lt,"$2")}`:`p_${e}`}));return t=>e(...o.map((({f:e,s:o})=>e?e(t):t[o])))},ut={},pt={};for(const[e,t,o]of[["alt",ct,ne],["anchor",it(E),te],["bot",ct,ie],["focus",ct,le],["intrinsic",it(F),pe],["mediaTag",ct,fe],["mode",it(B),he],["eager",rt(null,!1),se],["placeholder",it(V),$e],["position",ct,be],["preTransform",ct,ye],["ratio",it(H),Te],["refit",rt(null,!1),Se],["src",ct,Oe],["step",at,ke],["title",ct,Ne],["transition",rt(null,!0),je],["transitionDelay",ct,Me],["transitionDuration",ct,Pe],["transitionTimingFunction",ct,ze],["videoOptions",dt,e=>e]])ut[`p_${e}`]=mt(o,[`*${e}*`]),pt[e]=t;ut.p_undefined=()=>{};for(const[e,t,o]of[["_alt",He,["alt","mediaTag"]],["_dataAttributes",Ie,["anchor","bot","eager","focus","intrinsic","mediaTag","mode","preTransform","refit","src","step","videoOptions"]],["_style",Je,["anchor","mediaTag","mode","position","transitionDelay","transitionDuration","transitionTimingFunction"]],["_placeholderStyle",We,["anchor","focus","mode","placeholder_","position","preTransform","ratio","refit","src","transition","transitionDelay","transitionDuration","transitionTimingFunction","videoOptions",e=>e.observer.setPlaceholderData]],["p_placeholder_",ot,["placeholder","src"]],["_wrapperClass",Xe,["undefined","src","transition"]],["_wrapperStyle",Ge,["ratio"]]])ut[e]=mt(t,o);var ft={props:pt,emits:["stateChange"],computed:ut,beforeCreate(){this.observer=new et((e=>{this.$emit("stateChange",{state:e})}))},mounted(){this.observer.setMedia(this.$refs.media)},unmounted(){this.observer.destroy()}};const ht=["title"];ft.render=function(c,d,l,m,u,p){return e(),t("div",{class:o(c._wrapperClass),style:n(c._wrapperStyle),title:c.p_title},[(e(),i(r(c.p_mediaTag),a({ref:"media",alt:"img"===c.p_mediaTag?c._alt:void 0,style:c._style},{...c._dataAttributes}),null,16,["alt","style"])),c.p_placeholder_?(e(),t("div",{key:0,style:n(c._placeholderStyle)},null,4)):s("v-if",!0)],14,ht)},ft.__file="src/vue/TwicMedia.vue";var gt={components:{TwicMedia:ft},props:{mediaTag:it(void 0,"div")},emits:["stateChange"],methods:{handleStateChange(e){const{state:t}=e;this.$emit("stateChange",{target:this,state:t})}}};const vt={class:"twic-i"};gt.render=function(o,n,i,r,s,l){const m=c("TwicMedia");return e(),t("div",vt,[d(m,a({"media-tag":o.mediaTag},{...o.$attrs,class:""},{onStateChange:o.handleStateChange}),null,16,["media-tag","onStateChange"])])},gt.__file="src/vue/TwicBackground.vue";const $t=(e,t)=>{if(e<0||e>t)return Math.min(Math.max(0,e),t);let o=2*e/t;return o<1?t/2*o**3:(o-=2,t/2*(o**3+2))},bt=e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget,{left:o,top:n,right:i,bottom:r}=t.getBoundingClientRect(),{clientX:a,clientY:s}=e instanceof MouseEvent?e:e.touches[0];t.style.setProperty("--twic-xr",$t(a-o,i-o).toString()),t.style.setProperty("--twic-yr",$t(s-n,r-n).toString())},wt={},yt={};for(const[e,t,o]of[["zoom",(Tt=W,nt([Number,String],Tt,void 0)),Ee]])yt[`p_${e}`]=mt(o,[`*${e}*`]),wt[e]=t;var Tt;yt._magnifierStyle=mt((e=>{const t={};return"boolean"!=typeof e&&e&&(t["--twic-zoom"]=`${e}`),t}),["zoom"]);var _t={components:{TwicMedia:ft},props:wt,emits:["stateChange"],computed:yt,mounted(){this.p_zoom&&(e=>{const t=this.$refs.hostElement.firstElementChild;t.addEventListener("mousemove",(e=>bt(e))),t.addEventListener("touchmove",(e=>bt(e)))})()},methods:{handleStateChange(e){const{state:t}=e;this.$emit("stateChange",{target:this,state:t})}},render:function(r,l,m,u,p,f){const h=c("TwicMedia");return e(),t("div",{ref:"hostElement",class:o(["twic-i",{"twic-z":r.p_zoom}]),style:n(r._magnifierStyle)},[r.p_zoom?(e(),i(h,a({key:0,"media-tag":"div"},{...r.$attrs,class:"twic-m",mode:"cover"}),null,16)):s("v-if",!0),d(h,a({"media-tag":"img"},{...r.$attrs,class:""},{onStateChange:r.handleStateChange}),null,16,["onStateChange"])],6)},__file:"src/vue/TwicImg.vue"};const St={},xt={};for(const[e,t,o]of[["alt",ct,ne],["anchor",ct,oe],["fetchpriority",ct,ce],["focus",ct,me],["mode",ct,ge],["eager",rt(null,!1),se],["position",ct,we],["preTransform",ct,ye],["ratio",ct,_e],["refit",rt(null,!1),Se],["src",ct,Oe],["sizes",ct,xe],["title",ct,Ne]])xt[`p_${e}`]=mt(o,[`*${e}*`]),St[e]=t;xt.p_mediaTag=()=>"img";for(const[e,t,o]of[["_alt",He,["alt","mediaTag"]],["_pictureData",Be,["anchor","eager","fetchpriority","focus","mode","position","preTransform","ratio","refit","sizes","src"]]])xt[e]=mt(t,o);var kt={props:St,computed:xt};const Ot={class:"twic-i"},Ct=["title"],Nt=["alt"];kt.render=function(o,n,i,r,c,d){return e(),t("div",Ot,[l("picture",{class:"twic-p",title:o.p_title},[o._pictureData&&o._pictureData.sources?(e(!0),t(m,{key:0},u(o._pictureData.sources,((o,n)=>(e(),t("source",a({key:n},{...o}),null,16)))),128)):s("v-if",!0),o._pictureData&&o._pictureData.img?(e(),t("img",a({key:1,alt:o._alt},{...o._pictureData.img}),null,16,Nt)):s("v-if",!0)],8,Ct)])},kt.__file="src/vue/TwicPicture.vue";const Dt={},jt={};for(const[e,t,o]of[["duration",st,ae],["from",st,ue],["posterFrom",st,ue],["to",st,Ce]])jt[`p_${e}`]=mt(o,[`*${e}*`]),Dt[e]=t;for(const[e,t,o]of[["_videoOptions",tt,["duration","from","posterFrom","to"]]])jt[e]=mt(t,o);var Mt={components:{TwicMedia:ft},props:Dt,emits:["stateChange"],computed:jt,methods:{handleStateChange(e){const{state:t}=e;this.$emit("stateChange",{target:this,state:t})}}};const Pt={class:"twic-i"};Mt.render=function(o,n,i,r,s,l){const m=c("TwicMedia");return e(),t("div",Pt,[d(m,a({"media-tag":"video"},{...o.$attrs,class:""},{refit:!1,"video-options":o._videoOptions,onStateChange:o.handleStateChange}),null,16,["video-options","onStateChange"])])},Mt.__file="src/vue/TwicVideo.vue";var zt={computed:{viewAttributes:()=>({[C("view")]:""})},render:function(o,n,i,r,a,s){return e(),t("div",p(f(o.viewAttributes)),[h(o.$slots,"default")],16)},__file:"src/vue/TwicView.vue"};const Et=["TwicImg","TwicView","TwicVideo","TwicPicture"],At=(e,t)=>{(e=>{(e=>{e||T("install options not provided");const{domain:t,env:o,path:n}=e;t&&A.test(t)||T(`install domain "${t}" is invalid`),n&&z.test(n)&&T(`install path "${n}" is invalid`),o&&!I.test(o)&&T(`install env "${o}" is invalid`)})(e);const{domain:t,env:o,path:n}=e;(e=>{const{breakpoints:t={},debug:o,domain:n,class:i,env:r,handleShadowDom:a,maxDPR:s,path:c}=e;k.breakpoints=Object.assign(Object.assign({},k.breakpoints),t),k.class=i||k.class,k.domain=n,k.env=o?"debug":r,k.maxDPR=Math.max(1,s||2),k.path=c,k.handleShadowDom=a&&b?(e=>{const t=new WeakSet;return o=>{for(;o&&!t.has(o);){t.add(o);const{parentNode:n}=o;if(!n&&o instanceof ShadowRoot){if("closed"===o.mode)throw new Error("cannot use TwicPics components in closed ShadowRoot");g({element:o,value:{elementName:"style",value:`.twic-i{overflow:hidden}.twic-w,.twic-w *{border:none;margin:0;overflow:hidden;padding:0}.twic-w{overflow:hidden;position:relative;padding-top:100%;width:100%;padding-top:calc(100% / var(--twic-ratio,1))}.twic-w>*{display:block;height:100%;left:0;position:absolute;top:0;width:100%;transition-property:opacity,transform;will-change:opacity,transform;background-size:cover;background-position:center;background-repeat:no-repeat;object-fit:cover;object-position:center;transition-delay:0s;transition-duration:.4s;transition-timing-function:ease;object-fit:var(--twic-mode,cover);object-position:var(--twic-position,center);transition-delay:var(--twic-transition-delay,0s);transition-duration:var(--twic-transition-duration,400ms);transition-timing-function:var(--twic-transition-timing-function,ease)}.twic-w>div{background-repeat:no-repeat;background-size:cover;background-position:center;background-size:var(--twic-mode,cover);background-position:var(--twic-position,center);font-size:calc(1px / var(--twic-ratio,1))}.twic-w>img:not([src]),.twic-w>img[src=\"\"]{visibility:hidden}.twic-w.twic-tz>img{transform:scale(0)}.twic-w.twic-tf>div{opacity:1}.twic-d{display:block}.twic-offline{background-color:#ccc}.twic-offline.twic-nosrc{background-color:#fd0016}.twic-offline>*{display:none}:root{--twic-zoom:0}.twic-z{position:relative}.twic-m{left:0;position:absolute;top:0;z-index:1}.twic-m>*{display:none;transition:none;width:calc(max(var(--twic-zoom),1) * 100%);height:calc(max(var(--twic-zoom),1) * 100%);transform:translate3d(calc((1 - max(var(--twic-zoom),1)) * var(--twic-xr,0) * 1px),calc((1 - max(var(--twic-zoom),1)) * var(--twic-yr,0) * 1px),0)}.twic-m:hover>*{display:block}.twic-m:hover+div,twicmedia:hover+twicmedia{opacity:0}.twic-p{border:none;margin:0;overflow:hidden;padding:0}.twic-p>img{display:block;object-fit:cover;object-position:center;width:100%;height:100%}${O()}`}}),(o=o.host)&&o.setAttribute(e,"")}else o=n}}})(C("component")):w})(Object.assign(Object.assign({},e),{domain:re(t),env:de(o),path:ve(n)})),(e=>{if(b){const t=[`${k.domain}/?v1`];Ae.forEach((o=>{const[n,i]=o;e.hasOwnProperty(n)&&e[n]&&t.push(`${i}=${e[n]}`)}));const{scriptElementId:o}=e;g({element:document.head,value:[{attributes:{rel:"preconnect",href:k.domain},elementName:"link"},{attributes:Object.assign(Object.assign({async:"",defer:""},o&&{id:o}),{src:t.join("&")}),elementName:"script"}]});const n=g({elementName:"style",value:O()});document.head.appendChild(n),document.addEventListener("astro:after-swap",(()=>document.head.appendChild(n)))}})(e)})(t);for(let e=0;e<Et.length;e++)for(let o=e+1;o<Et.length;o++)t[Et[e]]&&t[Et[e]]===t[Et[o]]&&T(`${Et[e]} and ${Et[o]} components must have different names`);Re(e,{component:gt,componentName:t.TwicBackground||"TwicBackground"}),Re(e,{component:_t,componentName:t.TwicImg||"TwicImg"}),Re(e,{component:kt,componentName:t.TwicPicture||"TwicPicture"}),Re(e,{component:Mt,componentName:t.TwicVideo||"TwicVideo"}),Re(e,{component:zt,componentName:t.TwicView||"TwicView"})};export{At as default};
//# sourceMappingURL=module.mjs.map
