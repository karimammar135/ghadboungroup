

<script context="module">import {
  getCurrentComponent,
  parseAlt,
  parseAnchors,
  parseClassName,
  parseFocuses,
  parseEager,
  parsePreTransform,
  parseRatios,
  parseRefit,
  parseSizes,
  parseSrc,
  parseTitle,
  computePicture,
  computeAlt,
  isWebComponents,
  parseFetchPriority,
  parseModes,
  parsePositions
} from "./_utils.js";
</script>
<script>export let alt = void 0;
export let anchor = void 0;
let className = void 0;
export { className as class };
export let eager = false;
export let fetchpriority = void 0;
export let focus = void 0;
export let mode = void 0;
export let position = void 0;
export let preTransform = void 0;
export let ratio = void 0;
export let refit = void 0;
export let src;
export let sizes = void 0;
export let title = void 0;
$:
  parsedAlt = parseAlt(alt);
$:
  parsedAnchors = parseAnchors(anchor);
$:
  parsedClassName = parseClassName(className) || ``;
$:
  parsedEager = parseEager(eager);
$:
  parsedFetchPriority = parseFetchPriority(fetchpriority);
$:
  parsedFocuses = parseFocuses(focus);
$:
  parsedModes = parseModes(mode);
$:
  parsedPositions = parsePositions(position);
$:
  parsedPreTransform = parsePreTransform(preTransform);
$:
  parsedRatios = parseRatios(ratio);
$:
  parsedRefit = parseRefit(refit);
$:
  parsedSizes = parseSizes(sizes);
$:
  parsedSrc = parseSrc(src);
$:
  parsedTitle = parseTitle(title);
$: {
  if (isWebComponents) {
    ;
    getCurrentComponent().className = `${parsedClassName} twic-d twic-i`;
  }
}
$:
  _alt = computeAlt(parsedAlt, `img`);
$:
  _computePictureData = computePicture(
    parsedAnchors,
    parsedEager,
    parsedFetchPriority,
    parsedFocuses,
    parsedModes,
    parsedPositions,
    parsedPreTransform,
    parsedRatios,
    parsedRefit,
    parsedSizes,
    parsedSrc
  );
</script>
{#if isWebComponents}
    <picture class="twic-p" title = { parsedTitle }>
      {#if _computePictureData?.sources}
          {#each _computePictureData.sources as data }
              <source { ...data } />
          {/each}
      {/if}
      <img
          alt = { _alt }
          { ..._computePictureData?.img }
      />
    </picture>
{:else}
<div class = {`twic-i ${ parsedClassName }`}>
  <picture class="twic-p" title = { parsedTitle }>
    {#if _computePictureData?.sources}
        {#each _computePictureData.sources as data }
            <source { ...data } />
        {/each}
    {/if}
    <img
        alt = { _alt }
        { ..._computePictureData?.img }
    />
  </picture>
</div>
{/if}
