

<script context="module">import {
  getCurrentComponent,
  isWebComponents,
  parseClassName,
  parseDuration,
  parseFrom,
  parseTo,
  preComputeVideoOptions
} from "./_utils.js";
import TwicMedia from "./TwicMedia.svelte";
</script>
<script>export let anchor = void 0;
export let bot = void 0;
let className = void 0;
export { className as class };
export let duration = void 0;
export let focus = void 0;
export let from = void 0;
export let intrinsic = void 0;
export let mode = void 0;
export let eager = false;
export let placeholder = void 0;
export let position = void 0;
export let posterFrom = void 0;
export let preTransform = void 0;
export let ratio = void 0;
export let src;
export let step = void 0;
export let state = void 0;
export let title = void 0;
export let to = void 0;
export let transition = void 0;
export let transitionDelay = void 0;
export let transitionDuration = void 0;
export let transitionTimingFunction = void 0;
$:
  parsedClassName = parseClassName(className) || ``;
$:
  parsedDuration = parseDuration(duration);
$:
  parsedFrom = parseFrom(from);
$:
  parsedPosterFrom = parseFrom(posterFrom);
$:
  parsedTo = parseTo(to);
$:
  props = {
    anchor,
    bot,
    focus,
    intrinsic,
    mode,
    eager,
    placeholder,
    position,
    preTransform,
    ratio,
    src,
    step,
    title,
    transition,
    transitionDelay,
    transitionDuration,
    transitionTimingFunction
  };
$:
  videoOptions = preComputeVideoOptions(parsedDuration, parsedFrom, parsedPosterFrom, parsedTo);
$: {
  if (isWebComponents) {
    getCurrentComponent().className = `${parsedClassName} twic-d twic-i`;
  }
}
</script>
{#if isWebComponents}
<TwicMedia
    mediaTag="video"
    bind:state
    { ...props }
    { videoOptions }
    on:statechange
></TwicMedia>
{:else}
<div class = {`twic-i ${ parsedClassName }`}>
    <TwicMedia
        mediaTag="video"
        bind:state
        { ...props }
        { videoOptions }
        on:statechange
    ></TwicMedia>
</div>
{/if}
